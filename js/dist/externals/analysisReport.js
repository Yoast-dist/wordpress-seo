(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var o in s)e.o(s,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:s[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{AnalysisList:()=>v,AnalysisResult:()=>E,ContentAnalysis:()=>S,SiteSEOReport:()=>T,renderRatingToColor:()=>w});const s=window.wp.element,o=window.wp.i18n,r=window.React;var n=e.n(r);const a=window.yoast.styledComponents;var i=e.n(a);const l=window.yoast.propTypes;var u=e.n(l);const d=window.lodash.noop;var m=e.n(d);const g=window.yoast.styleGuide,p=window.lodash,c=window.yoast.componentsNew,h=window.yoast.helpers,{stripTagsFromHtmlString:k}=h.strings,B=["a","b","strong","em","i"],b=i().li`
	// This is the height of the IconButtonToggle.
	min-height: 24px;
	padding: 0;
	display: flex;
	align-items: flex-start;
	position: relative;
`,C=i()(c.SvgIcon)`
	margin: 3px 11px 0 0; // icon 13 + 11 right margin = 24 for the 8px grid.
`,y=i().p`
	margin: 0 16px 0 0;
	flex: 1 1 auto;
	color: ${e=>e.suppressedText?"rgba(30,30,30,0.5)":"inherit"};
`,R=({ariaLabel:e,id:t,className:o,status:r,onClick:n,isPressed:a})=>(0,s.createElement)(c.IconButtonToggle,{marksButtonStatus:r,className:o,onClick:n,id:t,icon:"eye",pressed:a,ariaLabel:e}),f=({markButtonFactory:e,...t})=>{const[o,n]=(0,r.useState)(!1),a=(0,r.useCallback)((()=>n(!1)),[]),i=(0,r.useCallback)((()=>n(!0)),[]);e=e||R;const{id:l,marker:u,hasMarksButton:d}=t;let m=null;return function(e){return!e.hasMarksButton||"hidden"===e.marksButtonStatus}(t)||(m=e({onClick:t.shouldUpsellHighlighting?i:t.onButtonClickMarks,status:t.marksButtonStatus,className:t.marksButtonClassName,id:t.buttonIdMarks,isPressed:t.pressed,ariaLabel:t.ariaLabelMarks})),(0,r.useEffect)((()=>{t.onResultChange(l,u,d)}),[l,u,d]),(0,s.createElement)(b,null,(0,s.createElement)(C,{icon:"circle",color:t.bulletColor,size:"13px"}),(0,s.createElement)(y,{suppressedText:t.suppressedText},t.hasBetaBadgeLabel&&(0,s.createElement)(c.BetaBadge,null),(0,s.createElement)("span",{dangerouslySetInnerHTML:{__html:k(t.text,B)}})),m,t.renderHighlightingUpsell(o,a),t.hasEditButton&&t.isPremium&&(0,s.createElement)(c.IconCTAEditButton,{className:t.editButtonClassName,onClick:t.onButtonClickEdit,id:t.buttonIdEdit,icon:"edit",ariaLabel:t.ariaLabelEdit}))};f.propTypes={text:u().string.isRequired,suppressedText:u().bool,bulletColor:u().string.isRequired,hasMarksButton:u().bool.isRequired,hasEditButton:u().bool,buttonIdMarks:u().string.isRequired,buttonIdEdit:u().string,pressed:u().bool.isRequired,ariaLabelMarks:u().string.isRequired,ariaLabelEdit:u().string,onButtonClickMarks:u().func.isRequired,onButtonClickEdit:u().func,marksButtonStatus:u().string,marksButtonClassName:u().string,markButtonFactory:u().func,editButtonClassName:u().string,hasBetaBadgeLabel:u().bool,isPremium:u().bool,onResultChange:u().func,id:u().string,marker:u().oneOfType([u().func,u().array]),shouldUpsellHighlighting:u().bool,renderHighlightingUpsell:u().func},f.defaultProps={suppressedText:!1,marksButtonStatus:"enabled",marksButtonClassName:"",editButtonClassName:"",hasBetaBadgeLabel:!1,hasEditButton:!1,buttonIdEdit:"",ariaLabelEdit:"",onButtonClickEdit:p.noop,isPremium:!1,onResultChange:p.noop,id:"",marker:p.noop,shouldUpsellHighlighting:!1,renderHighlightingUpsell:p.noop};const E=f,x=i().ul`
	margin: 8px 0;
	padding: 0;
	list-style: none;
`;function w(e){switch(e){case"good":return g.colors.$color_good;case"OK":return g.colors.$color_ok;case"bad":return g.colors.$color_bad;default:return g.colors.$color_score_icon}}function v(e){return(0,s.createElement)(x,{role:"list"},e.results.map((t=>{const r=w(t.rating),n=t.markerId===e.marksButtonActivatedResult,a=t.id+"Mark",i=t.id+"Edit";let l="";l="disabled"===e.marksButtonStatus?(0,o.__)("Marks are disabled in current view","wordpress-seo"):n?(0,o.__)("Remove highlight from the text","wordpress-seo"):(0,o.__)("Highlight this result in the text","wordpress-seo");const u=t.editFieldName,d=""===u?"":(0,o.sprintf)(
/* Translators: %1$s refers to the name of the field that should be edited (keyphrase, meta description,
       slug or SEO title). */
(0,o.__)("Edit your %1$s","wordpress-seo"),u);return(0,s.createElement)(E,{key:t.id,id:t.id,text:t.text,marker:t.marker,bulletColor:r,hasMarksButton:t.hasMarks,hasEditButton:t.hasJumps,ariaLabelMarks:l,ariaLabelEdit:d,pressed:n,suppressedText:"upsell"===t.rating,buttonIdMarks:a,buttonIdEdit:i,onButtonClickMarks:()=>e.onMarksButtonClick(t.id,t.marker),onButtonClickEdit:()=>e.onEditButtonClick(t.id),marksButtonClassName:e.marksButtonClassName,editButtonClassName:e.editButtonClassName,marksButtonStatus:e.marksButtonStatus,hasBetaBadgeLabel:t.hasBetaBadge,isPremium:e.isPremium,onResultChange:e.onResultChange,markButtonFactory:e.markButtonFactory,shouldUpsellHighlighting:e.shouldUpsellHighlighting,renderHighlightingUpsell:e.renderHighlightingUpsell})})))}v.propTypes={results:u().array.isRequired,marksButtonActivatedResult:u().string,marksButtonStatus:u().string,marksButtonClassName:u().string,editButtonClassName:u().string,markButtonFactory:u().func,onMarksButtonClick:u().func,onEditButtonClick:u().func,isPremium:u().bool,onResultChange:u().func,shouldUpsellHighlighting:u().bool,renderHighlightingUpsell:u().func},v.defaultProps={marksButtonActivatedResult:"",marksButtonStatus:"enabled",marksButtonClassName:"",editButtonClassName:"",onMarksButtonClick:m(),onEditButtonClick:m(),isPremium:!1,onResultChange:m(),shouldUpsellHighlighting:!1,renderHighlightingUpsell:m()};const N=i().div`
	width: 100%;
	background-color: white;
	border-bottom: 1px solid transparent; // Avoid parent and child margin collapsing.
`,_=i()(c.Collapsible)`
	margin-bottom: 8px;

	button:first-child svg {
		margin: -2px 8px 0 -2px; // Compensate icon size set to 18px.
	}

	${c.StyledIconsButton} {
		padding: 8px 0;
		color: ${g.colors.$color_blue}
	}
`;class M extends n().Component{renderCollapsible(e,t,o){return(0,s.createElement)(_,{initialIsOpen:!0,title:`${e} (${o.length})`,prefixIcon:{icon:"angle-up",color:g.colors.$color_grey_dark,size:"18px"},prefixIconCollapsed:{icon:"angle-down",color:g.colors.$color_grey_dark,size:"18px"},suffixIcon:null,suffixIconCollapsed:null,headingProps:{level:t,fontSize:"13px",fontWeight:"500",color:"#1e1e1e"}},(0,s.createElement)(v,{results:o,marksButtonActivatedResult:this.props.activeMarker,marksButtonStatus:this.props.marksButtonStatus,marksButtonClassName:this.props.marksButtonClassName,editButtonClassName:this.props.editButtonClassName,markButtonFactory:this.props.markButtonFactory,onMarksButtonClick:this.props.onMarkButtonClick,onEditButtonClick:this.props.onEditButtonClick,isPremium:this.props.isPremium,onResultChange:this.props.onResultChange,shouldUpsellHighlighting:this.props.shouldUpsellHighlighting,renderHighlightingUpsell:this.props.renderHighlightingUpsell}))}render(){const{problemsResults:e,improvementsResults:t,goodResults:r,considerationsResults:n,errorsResults:a,upsellResults:i,headingLevel:l,resultCategoryLabels:u}=this.props,d=a.length,m=e.length,g=t.length,p=n.length,c=r.length,h=i.length,k={errors:(0,o.__)("Errors","wordpress-seo"),problems:(0,o.__)("Problems","wordpress-seo"),improvements:(0,o.__)("Improvements","wordpress-seo"),considerations:(0,o.__)("Considerations","wordpress-seo"),goodResults:(0,o.__)("Good results","wordpress-seo")},B=Object.assign(k,u);return(0,s.createElement)(N,null,d>0&&this.renderCollapsible(B.errors,l,a),m+h>0&&this.renderCollapsible(B.problems,l,[...i,...e]),g>0&&this.renderCollapsible(B.improvements,l,t),p>0&&this.renderCollapsible(B.considerations,l,n),c>0&&this.renderCollapsible(B.goodResults,l,r))}}M.propTypes={onMarkButtonClick:u().func,onEditButtonClick:u().func,problemsResults:u().array,improvementsResults:u().array,goodResults:u().array,considerationsResults:u().array,errorsResults:u().array,upsellResults:u().array,headingLevel:u().number,marksButtonStatus:u().string,marksButtonClassName:u().string,markButtonFactory:u().func,editButtonClassName:u().string,activeMarker:u().string,isPremium:u().bool,resultCategoryLabels:u().shape({errors:u().string,problems:u().string,improvements:u().string,considerations:u().string,goodResults:u().string}),onResultChange:u().func,shouldUpsellHighlighting:u().bool,renderHighlightingUpsell:u().func},M.defaultProps={onMarkButtonClick:()=>{},onEditButtonClick:()=>{},problemsResults:[],improvementsResults:[],goodResults:[],considerationsResults:[],errorsResults:[],upsellResults:[],headingLevel:4,marksButtonStatus:"enabled",marksButtonClassName:"",markButtonFactory:null,editButtonClassName:"",activeMarker:"",isPremium:!1,resultCategoryLabels:{},onResultChange:()=>{},shouldUpsellHighlighting:!1,renderHighlightingUpsell:()=>{}};const S=M,H=i().div`
`,I=i().p`
	font-size: 14px;
`,P=e=>(0,s.createElement)(H,{className:e.className},(0,s.createElement)(I,{className:`${e.className}__text`},e.seoAssessmentText),(0,s.createElement)(c.StackedProgressBar,{className:"progress",items:e.seoAssessmentItems,barHeight:e.barHeight}),(0,s.createElement)(c.ScoreAssessments,{className:"assessments",items:e.seoAssessmentItems}));P.propTypes={className:u().string,seoAssessmentText:u().string,seoAssessmentItems:u().arrayOf(u().shape({html:u().string.isRequired,value:u().number.isRequired,color:u().string.isRequired})),barHeight:u().string},P.defaultProps={className:"seo-assessment",seoAssessmentText:"SEO Assessment",seoAssessmentItems:null,barHeight:"24px"};const T=P;(window.yoast=window.yoast||{}).analysisReport=t})();