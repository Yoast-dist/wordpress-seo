(window.yoastWebpackJsonp=window.yoastWebpackJsonp||[]).push([[10],{0:function(e,t){e.exports=window.wp.i18n},1:function(e,t){e.exports=window.lodash},2:function(e,t,s){e.exports=s(39)()},200:function(e,t){var s=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=s)},223:function(e,t,s){var n=s(339),o=s(340);e.exports=s(341)?function(e,t,s){return n.setDesc(e,t,o(1,s))}:function(e,t,s){return e[t]=s,e}},224:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},225:function(e,t){var s=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++s+n).toString(36))}},3:function(e,t){e.exports=React},337:function(e,t,s){s(338)("replace",2,function(e,t,s){return function(n,o){"use strict";var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i,o):s.call(String(i),n,o)}})},338:function(e,t,s){"use strict";var n=s(223),o=s(342),i=s(224),r=s(344),a=s(345);e.exports=function(e,t,s){var c=a(e),p=""[e];i(function(){var t={};return t[c]=function(){return 7},7!=""[e](t)})&&(o(String.prototype,e,s(r,c,p)),n(RegExp.prototype,c,2==t?function(e,t){return p.call(e,this,t)}:function(e){return p.call(e,this)}))}},339:function(e,t){var s=Object;e.exports={create:s.create,getProto:s.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:s.getOwnPropertyDescriptor,setDesc:s.defineProperty,setDescs:s.defineProperties,getKeys:s.keys,getNames:s.getOwnPropertyNames,getSymbols:s.getOwnPropertySymbols,each:[].forEach}},340:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},341:function(e,t,s){e.exports=!s(224)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},342:function(e,t,s){var n=s(200),o=s(223),i=s(225)("src"),r=Function.toString,a=(""+r).split("toString");s(343).inspectSource=function(e){return r.call(e)},(e.exports=function(e,t,s,r){"function"==typeof s&&(s.hasOwnProperty(i)||o(s,i,e[t]?""+e[t]:a.join(String(t))),s.hasOwnProperty("name")||o(s,"name",t)),e===n?e[t]=s:(r||delete e[t],o(e,t,s))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||r.call(this)})},343:function(e,t){var s=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=s)},344:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},345:function(e,t,s){var n=s(346)("wks"),o=s(225),i=s(200).Symbol;e.exports=function(e){return n[e]||(n[e]=i&&i[e]||(i||o)("Symbol."+e))}},346:function(e,t,s){var n=s(200),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},39:function(e,t,s){"use strict";var n=s(40),o=s(41),i=s(42);e.exports=function(){function e(e,t,s,n,r,a){a!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var s={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return s.checkPropTypes=n,s.PropTypes=s,s}},40:function(e,t,s){"use strict";function n(e){return function(){return e}}var o=function(){};o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},407:function(e,t,s){"use strict";s.r(t);var n=s(0),o=s(2),i=s.n(o),r=s(6),a=s.n(r),c=function(e){e=e||"polite";var t=document.createElement("div");return t.id="a11y-speak-"+e,t.className="a11y-speak-region",t.setAttribute("style","position: absolute;margin: -1px;padding: 0;height: 1px;width: 1px;overflow: hidden;clip: rect(1px, 1px, 1px, 1px);-webkit-clip-path: inset(50%);clip-path: inset(50%);border: 0;word-wrap: normal !important;"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions text"),t.setAttribute("aria-atomic","true"),document.querySelector("body").appendChild(t),t},p=function(){for(var e=document.querySelectorAll(".a11y-speak-region"),t=0;t<e.length;t++)e[t].textContent=""},u=function(e){if("complete"===document.readyState||"interactive"===document.readyState)return e();document.addEventListener("DOMContentLoaded",e)},l=(s(337),""),h=function(e){return e=e.replace(/<[^<>]+>/g," "),l===e&&(e+=" "),l=e,e};u(function(){var e=document.getElementById("a11y-speak-polite"),t=document.getElementById("a11y-speak-assertive");null===e&&(e=c("polite")),null===t&&(t=c("assertive"))});var d=function(e,t){p(),e=h(e);var s=document.getElementById("a11y-speak-polite"),n=document.getElementById("a11y-speak-assertive");n&&"assertive"===t?n.textContent=e:s&&(s.textContent=e)},m=s(1),w=s(3),f=s.n(w);var b=function(e){return class extends f.a.Component{render(){return wp.element.createElement(w.Fragment,null,wp.element.createElement(e,this.props)," ")}}},g=s(59);const{Component:y}=window.wp.element,{IconButton:v}=window.wp.components,{RichText:x,MediaUpload:S}=window.wp.editor,_=b(x),R=b(x.Content);class C extends y{constructor(e){super(e),this.onSelectImage=this.onSelectImage.bind(this),this.onInsertStep=this.onInsertStep.bind(this),this.onRemoveStep=this.onRemoveStep.bind(this),this.onMoveStepUp=this.onMoveStepUp.bind(this),this.onMoveStepDown=this.onMoveStepDown.bind(this),this.setTextRef=this.setTextRef.bind(this),this.setTitleRef=this.setTitleRef.bind(this),this.onFocusText=this.onFocusText.bind(this),this.onFocusTitle=this.onFocusTitle.bind(this),this.onChangeTitle=this.onChangeTitle.bind(this),this.onChangeText=this.onChangeText.bind(this)}onInsertStep(){this.props.insertStep(this.props.index)}onRemoveStep(){this.props.removeStep(this.props.index)}onMoveStepUp(){this.props.isFirst||this.props.onMoveUp(this.props.index)}onMoveStepDown(){this.props.isLast||this.props.onMoveDown(this.props.index)}setTitleRef(e){this.props.editorRef(this.props.index,"name",e)}setTextRef(e){this.props.editorRef(this.props.index,"text",e)}onFocusTitle(){this.props.onFocus(this.props.index,"name")}onFocusText(){this.props.onFocus(this.props.index,"text")}onChangeTitle(e){const{onChange:t,index:s,step:{text:n,name:o}}=this.props;t(e,n,o,n,s)}onChangeText(e){const{onChange:t,index:s,step:{text:n,name:o}}=this.props;t(o,e,o,n,s)}getMediaUploadButton(e){return wp.element.createElement(v,{className:"schema-how-to-step-button how-to-step-add-media",icon:"insert",onClick:e.open},Object(n.__)("Add image","wordpress-seo"))}getButtons(){const{step:e}=this.props;return wp.element.createElement("div",{className:"schema-how-to-step-button-container"},!C.getImageSrc(e.text)&&wp.element.createElement(S,{onSelect:this.onSelectImage,allowedTypes:["image"],value:e.id,render:this.getMediaUploadButton}),wp.element.createElement(v,{className:"schema-how-to-step-button",icon:"trash",label:Object(n.__)("Delete step","wordpress-seo"),onClick:this.onRemoveStep}),wp.element.createElement(v,{className:"schema-how-to-step-button",icon:"insert",label:Object(n.__)("Insert step","wordpress-seo"),onClick:this.onInsertStep}))}getMover(){return wp.element.createElement("div",{className:"schema-how-to-step-mover"},wp.element.createElement(v,{className:"editor-block-mover__control",onClick:this.onMoveStepUp,icon:"arrow-up-alt2",label:Object(n.__)("Move step up","wordpress-seo"),"aria-disabled":this.props.isFirst}),wp.element.createElement(v,{className:"editor-block-mover__control",onClick:this.onMoveStepDown,icon:"arrow-down-alt2",label:Object(n.__)("Move step down","wordpress-seo"),"aria-disabled":this.props.isLast}))}onSelectImage(e){const{index:t,step:{name:s,text:n}}=this.props;let o=n.slice();const i=wp.element.createElement("img",{key:e.id,alt:e.alt,src:e.url});o.push?o.push(i):o=[o,i],this.props.onChange(s,o,s,n,t)}static getImageSrc(e){if(!e||!e.filter)return!1;const t=e.filter(e=>e&&e.type&&"img"===e.type)[0];return!!t&&t.props.src}shouldComponentUpdate(e){return!Object(g.isShallowEqualObjects)(e,this.props)}static Content(e){return wp.element.createElement("li",{className:"schema-how-to-step",id:e.id,key:e.id},wp.element.createElement(R,{tagName:"strong",className:"schema-how-to-step-name",key:e.id+"-name",value:e.name}),wp.element.createElement(R,{tagName:"p",className:"schema-how-to-step-text",key:e.id+"-text",value:e.text}))}render(){const{index:e,step:t,isSelected:s,subElement:o,isUnorderedList:i}=this.props,{id:r,name:a,text:c}=t;return wp.element.createElement("li",{className:"schema-how-to-step",key:r},wp.element.createElement("span",{className:"schema-how-to-step-number"},i?"•":e+1+"."),wp.element.createElement(_,{className:"schema-how-to-step-name",tagName:"p",unstableOnSetup:this.setTitleRef,key:`${r}-name`,value:a,onChange:this.onChangeTitle,isSelected:s&&"name"===o,placeholder:Object(n.__)("Enter a step title","wordpress-seo"),setFocusedElement:this.onFocusTitle,keepPlaceholderOnFocus:!0,formattingControls:["italic","strikethrough","link"]}),wp.element.createElement(_,{className:"schema-how-to-step-text",tagName:"p",unstableOnSetup:this.setTextRef,key:`${r}-text`,value:c,onChange:this.onChangeText,isSelected:s&&"text"===o,placeholder:Object(n.__)("Enter a step description","wordpress-seo"),setFocusedElement:this.onFocusText,keepPlaceholderOnFocus:!0}),s&&wp.element.createElement("div",{className:"schema-how-to-step-controls-container"},this.getMover(),this.getButtons()))}}function E(e,t=0){return parseInt(e,10)||t}function q(e){const t=function({days:e,hours:t,minutes:s}){const o=[];return 0!==e&&o.push(Object(n.sprintf)(Object(n._n)("%d day","%d days",e,"wordpress-seo"),e)),0!==t&&o.push(Object(n.sprintf)(Object(n._n)("%d hour","%d hours",t,"wordpress-seo"),t)),0!==s&&o.push(Object(n.sprintf)(Object(n._n)("%d minute","%d minutes",s,"wordpress-seo"),s)),o}({days:E(e.days),hours:E(e.hours),minutes:E(e.minutes)});return 1===t.length?t[0]:2===t.length?Object(n.sprintf)(Object(n.__)("%s and %s","wordpress-seo"),...t):3===t.length?Object(n.sprintf)(Object(n.__)("%s, %s and %s","wordpress-seo"),...t):""}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}C.propTypes={index:i.a.number.isRequired,step:i.a.object.isRequired,onChange:i.a.func.isRequired,insertStep:i.a.func.isRequired,removeStep:i.a.func.isRequired,onFocus:i.a.func.isRequired,editorRef:i.a.func.isRequired,onMoveUp:i.a.func.isRequired,onMoveDown:i.a.func.isRequired,subElement:i.a.string.isRequired,isSelected:i.a.bool.isRequired,isFirst:i.a.bool.isRequired,isLast:i.a.bool.isRequired,isUnorderedList:i.a.bool},C.defaultProps={isUnorderedList:!1};const{RichText:O,InspectorControls:N}=window.wp.editor,{IconButton:D,PanelBody:T,TextControl:k,ToggleControl:F}=window.wp.components,{Component:$,renderToString:Q,createRef:A}=window.wp.element,M=b(O.Content),I=a()(k).withConfig({displayName:"HowTo__SpacedTextControl",componentId:"sc-1reihu1-0"})(["&&&{margin-bottom:32px;}"]);class L extends ${constructor(e){super(e),this.state={focus:""},this.changeStep=this.changeStep.bind(this),this.insertStep=this.insertStep.bind(this),this.removeStep=this.removeStep.bind(this),this.swapSteps=this.swapSteps.bind(this),this.setFocus=this.setFocus.bind(this),this.addCSSClasses=this.addCSSClasses.bind(this),this.getListTypeHelp=this.getListTypeHelp.bind(this),this.toggleListType=this.toggleListType.bind(this),this.setDurationText=this.setDurationText.bind(this),this.setFocusToStep=this.setFocusToStep.bind(this),this.setStepRef=this.setStepRef.bind(this),this.moveStepUp=this.moveStepUp.bind(this),this.moveStepDown=this.moveStepDown.bind(this),this.focusDescription=this.focusDescription.bind(this),this.setDescriptionRef=this.setDescriptionRef.bind(this),this.addDuration=this.addDuration.bind(this),this.removeDuration=this.removeDuration.bind(this),this.onChangeDescription=this.onChangeDescription.bind(this),this.onChangeDays=this.onChangeDays.bind(this),this.onChangeHours=this.onChangeHours.bind(this),this.onChangeMinutes=this.onChangeMinutes.bind(this),this.onAddStepButtonClick=this.onAddStepButtonClick.bind(this),this.daysInput=A(),this.addDurationButton=A();const t=this.getDefaultDurationText();this.setDefaultDurationText(t),this.editorRefs={}}getDefaultDurationText(){const e=Object(m.get)(window,"wp.hooks.applyFilters");let t=Object(n.__)("Time needed:","wordpress-seo");return e&&(t=e("wpseo_duration_text",t)),t}setDurationText(e){this.props.setAttributes({durationText:e})}setDefaultDurationText(e){this.props.setAttributes({defaultDurationText:e})}onAddStepButtonClick(){this.insertStep(null,[],[],!1)}static generateId(e){return`${e}-${(new Date).getTime()}`}changeStep(e,t,s,n,o){const i=this.props.attributes.steps?this.props.attributes.steps.slice():[];if(o>=i.length)return;if(i[o].name!==s||i[o].text!==n)return;i[o]={id:i[o].id,name:e,text:t,jsonName:Q(e),jsonText:Q(t)};const r=C.getImageSrc(t);r&&(i[o].jsonImageSrc=r),this.props.setAttributes({steps:i})}insertStep(e=null,t=[],s=[],o=!0){const i=this.props.attributes.steps?this.props.attributes.steps.slice():[];null===e&&(e=i.length-1);let r=i.length-1;for(;r>e;)this.editorRefs[`${r+1}:name`]=this.editorRefs[`${r}:name`],this.editorRefs[`${r+1}:text`]=this.editorRefs[`${r}:text`],r--;i.splice(e+1,0,{id:L.generateId("how-to-step"),name:t,text:s,jsonName:"",jsonText:""}),this.props.setAttributes({steps:i}),o?setTimeout(this.setFocus.bind(this,`${e+1}:name`)):d(Object(n.__)("New step added","wordpress-seo"))}swapSteps(e,t){const s=this.props.attributes.steps?this.props.attributes.steps.slice():[],n=s[e];s[e]=s[t],s[t]=n;const o=this.editorRefs[`${e}:name`];this.editorRefs[`${e}:name`]=this.editorRefs[`${t}:name`],this.editorRefs[`${t}:name`]=o;const i=this.editorRefs[`${e}:text`];this.editorRefs[`${e}:text`]=this.editorRefs[`${t}:text`],this.editorRefs[`${t}:text`]=i,this.props.setAttributes({steps:s});const[r,a]=this.state.focus.split(":");r===`${e}`&&this.setFocus(`${t}:${a}`),r===`${t}`&&this.setFocus(`${e}:${a}`)}removeStep(e){const t=this.props.attributes.steps?this.props.attributes.steps.slice():[];t.splice(e,1),this.props.setAttributes({steps:t}),delete this.editorRefs[`${e}:name`],delete this.editorRefs[`${e}:text`];let s=e+1;for(;this.editorRefs[`${s}:name`]||this.editorRefs[`${s}:text`];)this.editorRefs[`${s-1}:name`]=this.editorRefs[`${s}:name`],this.editorRefs[`${s-1}:text`]=this.editorRefs[`${s}:text`],s++;const n=t.length;delete this.editorRefs[`${n}:name`],delete this.editorRefs[`${n}:text`];let o="description";this.editorRefs[`${e}:name`]?o=`${e}:name`:this.editorRefs[`${e-1}:text`]&&(o=`${e-1}:text`),this.setFocus(o)}setFocus(e){e!==this.state.focus&&(this.setState({focus:e}),this.editorRefs[e]&&this.editorRefs[e].focus())}setFocusToStep(e,t){this.setFocus(`${e}:${t}`)}moveStepUp(e){this.swapSteps(e,e-1)}moveStepDown(e){this.swapSteps(e,e+1)}setStepRef(e,t,s){this.editorRefs[`${e}:${t}`]=s}getSteps(){if(!this.props.attributes.steps)return null;const[e,t]=this.state.focus.split(":");return this.props.attributes.steps.map((s,n)=>wp.element.createElement(C,{key:s.id,step:s,index:n,editorRef:this.setStepRef,onChange:this.changeStep,insertStep:this.insertStep,removeStep:this.removeStep,onFocus:this.setFocusToStep,subElement:t,onMoveUp:this.moveStepUp,onMoveDown:this.moveStepDown,isFirst:0===n,isLast:n===this.props.attributes.steps.length-1,isSelected:e===`${n}`,isUnorderedList:this.props.attributes.unorderedList}))}formatDuration(e,t=null){if(""===e)return"";const s=e.replace(/^[0]+/,"");return""===s?0:null!==t?Math.min(Math.max(0,parseInt(s,10)),t):Math.max(0,parseInt(s,10))}static getStepsContent(e){return e?e.map(e=>wp.element.createElement(C.Content,j({},e,{key:e.id}))):null}static Content(e){const{steps:t,hasDuration:s,days:n,hours:o,minutes:i,description:r,unorderedList:a,additionalListCssClasses:c,className:p,durationText:u,defaultDurationText:l}=e,h=["schema-how-to",p].filter(e=>e).join(" "),d=["schema-how-to-steps",c].filter(e=>e).join(" "),m=q({days:n,hours:o,minutes:i});return wp.element.createElement("div",{className:h},s&&"string"==typeof m&&m.length>0&&wp.element.createElement("p",{className:"schema-how-to-total-time"},wp.element.createElement("span",{className:"schema-how-to-duration-time-text"},u||l," "),m+". "),wp.element.createElement(M,{tagName:"p",className:"schema-how-to-description",value:r}),a?wp.element.createElement("ul",{className:d},L.getStepsContent(t)):wp.element.createElement("ol",{className:d},L.getStepsContent(t)))}getAddStepButton(){return wp.element.createElement(D,{icon:"insert",onClick:this.onAddStepButtonClick,className:"schema-how-to-add-step"},Object(n.__)("Add step","wordpress-seo"))}addCSSClasses(e){this.props.setAttributes({additionalListCssClasses:e})}toggleListType(e){this.props.setAttributes({unorderedList:e})}getListTypeHelp(e){return e?Object(n.__)("Showing step items as an unordered list","wordpress-seo"):Object(n.__)("Showing step items as an ordered list.","wordpress-seo")}focusDescription(){this.setFocus("description")}setDescriptionRef(e){this.editorRefs.description=e}onChangeDescription(e){this.props.setAttributes({description:e,jsonDescription:Q(e)})}addDuration(){this.props.setAttributes({hasDuration:!0}),setTimeout(()=>this.daysInput.current.focus())}removeDuration(){this.props.setAttributes({hasDuration:!1}),setTimeout(()=>{this.addDurationButton.current instanceof $||this.addDurationButton.current.focus()})}onChangeDays(e){const t=this.formatDuration(e.target.value);this.props.setAttributes({days:Object(m.toString)(t)})}onChangeHours(e){const t=this.formatDuration(e.target.value,23);this.props.setAttributes({hours:Object(m.toString)(t)})}onChangeMinutes(e){const t=this.formatDuration(e.target.value,59);this.props.setAttributes({minutes:Object(m.toString)(t)})}getDuration(){const{attributes:e}=this.props;return e.hasDuration?wp.element.createElement("fieldset",{className:"schema-how-to-duration"},wp.element.createElement("span",{className:"schema-how-to-duration-flex-container",role:"presentation"},wp.element.createElement("legend",{className:"schema-how-to-duration-legend"},e.durationText||this.getDefaultDurationText()),wp.element.createElement("span",{className:"schema-how-to-duration-time-input"},wp.element.createElement("label",{htmlFor:"schema-how-to-duration-days",className:"screen-reader-text"},Object(n.__)("days","wordpress-seo")),wp.element.createElement("input",{id:"schema-how-to-duration-days",className:"schema-how-to-duration-input",type:"number",value:e.days,onChange:this.onChangeDays,placeholder:"DD",ref:this.daysInput}),wp.element.createElement("label",{htmlFor:"schema-how-to-duration-hours",className:"screen-reader-text"},Object(n.__)("hours","wordpress-seo")),wp.element.createElement("input",{id:"schema-how-to-duration-hours",className:"schema-how-to-duration-input",type:"number",value:e.hours,onChange:this.onChangeHours,placeholder:"HH"}),wp.element.createElement("span",{"aria-hidden":"true"},":"),wp.element.createElement("label",{htmlFor:"schema-how-to-duration-minutes",className:"screen-reader-text"},Object(n.__)("minutes","wordpress-seo")),wp.element.createElement("input",{id:"schema-how-to-duration-minutes",className:"schema-how-to-duration-input",type:"number",value:e.minutes,onChange:this.onChangeMinutes,placeholder:"MM"}),wp.element.createElement(D,{className:"schema-how-to-duration-delete-button",icon:"trash",label:Object(n.__)("Delete total time","wordpress-seo"),onClick:this.removeDuration})))):wp.element.createElement(D,{onClick:this.addDuration,className:"schema-how-to-duration-button",ref:this.addDurationButton,icon:"insert"},Object(n.__)("Add total time","wordpress-seo"))}getSidebar(e,t,s){return s===this.getDefaultDurationText()&&(s=""),wp.element.createElement(N,null,wp.element.createElement(T,{title:Object(n.__)("Settings","wordpress-seo"),className:"blocks-font-size"},wp.element.createElement(I,{label:Object(n.__)("CSS class(es) to apply to the steps","wordpress-seo"),value:t,onChange:this.addCSSClasses,help:Object(n.__)("Optional. This can give you better control over the styling of the steps.","wordpress-seo")}),wp.element.createElement(I,{label:Object(n.__)("Describe the duration of the instruction:","wordpress-seo"),value:s,onChange:this.setDurationText,help:Object(n.__)("Optional. Customize how you want to describe the duration of the instruction","wordpress-seo"),placeholder:this.getDefaultDurationText()}),wp.element.createElement(F,{label:Object(n.__)("Unordered list","wordpress-seo"),checked:e||!1,onChange:this.toggleListType,help:this.getListTypeHelp})))}render(){const{attributes:e,className:t}=this.props,s=["schema-how-to",t].filter(e=>e).join(" "),o=["schema-how-to-steps",e.additionalListCssClasses].filter(e=>e).join(" ");return wp.element.createElement("div",{className:s},this.getDuration(),wp.element.createElement(O,{tagName:"p",className:"schema-how-to-description",value:e.description,isSelected:"description"===this.state.focus,setFocusedElement:this.focusDescription,onChange:this.onChangeDescription,unstableOnSetup:this.setDescriptionRef,placeholder:Object(n.__)("Enter a description","wordpress-seo"),keepPlaceholderOnFocus:!0}),wp.element.createElement("ul",{className:o},this.getSteps()),wp.element.createElement("div",{className:"schema-how-to-buttons"},this.getAddStepButton()),this.getSidebar(e.unorderedList,e.additionalListCssClasses,e.durationText))}}function U(e,t=0){return parseInt(e,10)||t}function B(e){const t=function({days:e,hours:t,minutes:s}){const o=[];return 0!==e&&o.push(Object(n.sprintf)(Object(n._n)("%d day","%d days",e,"wordpress-seo"),e)),0!==t&&o.push(Object(n.sprintf)(Object(n._n)("%d hour","%d hours",t,"wordpress-seo"),t)),0!==s&&o.push(Object(n.sprintf)(Object(n._n)("%d minute","%d minutes",s,"wordpress-seo"),s)),o}({days:U(e.days),hours:U(e.hours),minutes:U(e.minutes)});return 1===t.length?t[0]:2===t.length?Object(n.sprintf)(Object(n.__)("%s and %s","wordpress-seo"),...t):3===t.length?Object(n.sprintf)(Object(n.__)("%s, %s and %s","wordpress-seo"),...t):""}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}L.propTypes={attributes:i.a.object.isRequired,setAttributes:i.a.func.isRequired,className:i.a.string},L.defaultProps={className:""};const H=e=>wp.element.createElement("li",{className:"schema-how-to-step",key:e.id},wp.element.createElement("strong",{className:"schema-how-to-step-name",key:e.id+"-name"},e.name)," ",wp.element.createElement("p",{className:"schema-how-to-step-text",key:e.id+"-text"},e.text)," ");function W(e){let{steps:t}=e.attributes;const{hasDuration:s,days:o,hours:i,minutes:r,description:a,unorderedList:c,additionalListCssClasses:p,className:u}=e.attributes;t=t?t.map(e=>wp.element.createElement(H,P({},e,{key:e.id}))):null;const l=["schema-how-to",u].filter(e=>e).join(" "),h=["schema-how-to-steps",p].filter(e=>e).join(" "),d=B({days:o,hours:i,minutes:r});return wp.element.createElement("div",{className:l},s&&"string"==typeof d&&d.length>0&&wp.element.createElement("p",{className:"schema-how-to-total-time"},Object(n.__)("Time needed:","wordpress-seo")," ",d+". "),wp.element.createElement("p",{className:"schema-how-to-description"},a)," ",c?wp.element.createElement("ul",{className:h},t):wp.element.createElement("ol",{className:h},t))}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function z(e){return wp.element.createElement("li",{className:"schema-how-to-step",key:e.id},wp.element.createElement("strong",{className:"schema-how-to-step-name",key:e.id+"-name"},e.name)," ",wp.element.createElement("p",{className:"schema-how-to-step-text",key:e.id+"-text"},e.text)," ")}function J(e){const{steps:t,hasDuration:s,days:n,hours:o,minutes:i,description:r,unorderedList:a,additionalListCssClasses:c,className:p,durationText:u,defaultDurationText:l}=e.attributes,h=["schema-how-to",p].filter(e=>e).join(" "),d=["schema-how-to-steps",c].filter(e=>e).join(" "),m=B({days:n,hours:o,minutes:i}),w=t.map(e=>wp.element.createElement(z,Y({},e,{key:e.id})));return wp.element.createElement("div",{className:h},s&&"string"==typeof m&&m.length>0&&wp.element.createElement("p",{className:"schema-how-to-total-time"},wp.element.createElement("span",{className:"schema-how-to-duration-time-text"},u||l," "),m+". "),wp.element.createElement("p",{className:"schema-how-to-description"},r)," ",a?wp.element.createElement("ul",{className:d},w):wp.element.createElement("ol",{className:d},w))}W.propTypes={attributes:i.a.object},J.propTypes={attributes:i.a.object.isRequired};var K={v8_2:W,v11_4:J};const{registerBlockType:V}=window.wp.blocks,G={hasDuration:{type:"boolean"},days:{type:"string"},hours:{type:"string"},minutes:{type:"string"},description:{type:"array",source:"children",selector:".schema-how-to-description"},jsonDescription:{type:"string"},steps:{type:"array"},additionalListCssClasses:{type:"string"},unorderedList:{type:"boolean"},durationText:{type:"string"},defaultDurationText:{type:"string"}};const{Component:X}=window.wp.element,{IconButton:Z}=window.wp.components,{RichText:ee,MediaUpload:te}=window.wp.editor,se=b(ee.Content);class ne extends X{constructor(e){super(e),this.onSelectImage=this.onSelectImage.bind(this),this.onFocusAnswer=this.onFocusAnswer.bind(this),this.onFocusQuestion=this.onFocusQuestion.bind(this),this.onChangeAnswer=this.onChangeAnswer.bind(this),this.onChangeQuestion=this.onChangeQuestion.bind(this),this.onInsertQuestion=this.onInsertQuestion.bind(this),this.onRemoveQuestion=this.onRemoveQuestion.bind(this),this.onMoveDown=this.onMoveDown.bind(this),this.onMoveUp=this.onMoveUp.bind(this)}getMediaUploadButton(e){return wp.element.createElement(Z,{className:"schema-faq-section-button faq-section-add-media",icon:"insert",onClick:e.open},Object(n.__)("Add image","wordpress-seo"))}setQuestionRef(e){this.props.editorRef("question",e,this.props.index)}setAnswerRef(e){this.props.editorRef("answer",e,this.props.index)}onFocusQuestion(){this.props.onFocus("question",this.props.index)}onFocusAnswer(){this.props.onFocus("answer",this.props.index)}onChangeQuestion(e){const{index:t,onChange:s,attributes:{answer:n,question:o}}=this.props;s(e,n,o,n,t)}onChangeAnswer(e){const{index:t,onChange:s,attributes:{answer:n,question:o}}=this.props;s(o,e,o,n,t)}onInsertQuestion(){this.props.insertQuestion(this.props.index)}onRemoveQuestion(){this.props.removeQuestion(this.props.index)}onMoveUp(){this.props.isFirst||this.props.onMoveUp(this.props.index)}onMoveDown(){this.props.isLast||this.props.onMoveDown(this.props.index)}getButtons(){const{attributes:e}=this.props;return wp.element.createElement("div",{className:"schema-faq-section-button-container"},wp.element.createElement(te,{onSelect:this.onSelectImage,allowedTypes:["image"],value:e.id,render:this.getMediaUploadButton}),wp.element.createElement(Z,{className:"schema-faq-section-button",icon:"trash",label:Object(n.__)("Delete question","wordpress-seo"),onClick:this.onRemoveQuestion}),wp.element.createElement(Z,{className:"schema-faq-section-button",icon:"insert",label:Object(n.__)("Insert question","wordpress-seo"),onClick:this.onInsertQuestion}))}getMover(){return wp.element.createElement("div",{className:"schema-faq-section-mover"},wp.element.createElement(Z,{className:"editor-block-mover__control",onClick:this.onMoveUp,icon:"arrow-up-alt2",label:Object(n.__)("Move question up","wordpress-seo"),"aria-disabled":this.props.isFirst}),wp.element.createElement(Z,{className:"editor-block-mover__control",onClick:this.onMoveDown,icon:"arrow-down-alt2",label:Object(n.__)("Move question down","wordpress-seo"),"aria-disabled":this.props.isLast}))}onSelectImage(e){const{attributes:{answer:t,question:s},index:n}=this.props;let o=t.slice();const i=wp.element.createElement("img",{key:e.id,alt:e.alt,src:e.url});o.push?o.push(i):o=[o,i],this.props.onChange(s,o,s,t,n)}static getImageSrc(e){if(!e||!e.filter)return!1;const t=e.filter(e=>e&&e.type&&"img"===e.type)[0];return!!t&&t.props.src}static Content(e){return wp.element.createElement("div",{className:"schema-faq-section",id:e.id,key:e.id},wp.element.createElement(se,{tagName:"strong",className:"schema-faq-question",key:e.id+"-question",value:e.question}),wp.element.createElement(se,{tagName:"p",className:"schema-faq-answer",key:e.id+"-answer",value:e.answer}))}shouldComponentUpdate(e){return!Object(g.isShallowEqualObjects)(e,this.props)}render(){const{subElement:e,attributes:t,isSelected:s}=this.props,{id:o,question:i,answer:r}=t;return wp.element.createElement("div",{className:"schema-faq-section",key:o},wp.element.createElement(ee,{className:"schema-faq-question",tagName:"p",unstableOnSetup:this.setQuestionRef,key:o+"-question",value:i,onChange:this.onChangeQuestion,isSelected:s&&"question"===e,setFocusedElement:this.onFocusQuestion,placeholder:Object(n.__)("Enter a question","wordpress-seo"),keepPlaceholderOnFocus:!0,formattingControls:["italic","strikethrough","link"]}),wp.element.createElement(ee,{className:"schema-faq-answer",tagName:"p",unstableOnSetup:this.setAnswerRef,key:o+"-answer",value:r,onChange:this.onChangeAnswer,isSelected:s&&"answer"===e,setFocusedElement:this.onFocusAnswer,placeholder:Object(n.__)("Enter the answer to the question","wordpress-seo"),keepPlaceholderOnFocus:!0}),s&&wp.element.createElement("div",{className:"schema-faq-section-controls-container"},this.getMover(),this.getButtons()))}}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}ne.propTypes={index:i.a.number.isRequired,attributes:i.a.object.isRequired,onChange:i.a.func.isRequired,insertQuestion:i.a.func.isRequired,removeQuestion:i.a.func.isRequired,onFocus:i.a.func.isRequired,editorRef:i.a.func.isRequired,onMoveUp:i.a.func.isRequired,onMoveDown:i.a.func.isRequired,subElement:i.a.string.isRequired,isSelected:i.a.bool.isRequired,isFirst:i.a.bool.isRequired,isLast:i.a.bool.isRequired};const{IconButton:ie}=window.wp.components,{Component:re,renderToString:ae}=window.wp.element,ce=b(ne.Content);class pe extends re{constructor(e){super(e),this.state={focus:""},this.changeQuestion=this.changeQuestion.bind(this),this.insertQuestion=this.insertQuestion.bind(this),this.removeQuestion=this.removeQuestion.bind(this),this.swapQuestions=this.swapQuestions.bind(this),this.setQuestionRef=this.setQuestionRef.bind(this),this.moveQuestionDown=this.moveQuestionDown.bind(this),this.moveQuestionUp=this.moveQuestionUp.bind(this),this.setFocus=this.setFocus.bind(this),this.onAddQuestionButtonClick=this.onAddQuestionButtonClick.bind(this),this.editorRefs={}}static generateId(e){return`${e}-${(new Date).getTime()}`}onAddQuestionButtonClick(){this.insertQuestion(null,[],[],!1)}setQuestionRef(e,t,s){this.editorRefs[`${s}:${e}`]=t}changeQuestion(e,t,s,n,o){const i=this.props.attributes.questions?this.props.attributes.questions.slice():[];if(o>=i.length)return;if(i[o].question!==s||i[o].answer!==n)return;i[o]={id:i[o].id,question:e,answer:t,jsonQuestion:ae(e),jsonAnswer:ae(t)};const r=ne.getImageSrc(t);r&&(i[o].jsonImageSrc=r),this.props.setAttributes({questions:i})}insertQuestion(e=null,t=[],s=[],o=!0){const i=this.props.attributes.questions?this.props.attributes.questions.slice():[];null===e&&(e=i.length-1);let r=i.length-1;for(;r>e;)this.editorRefs[`${r+1}:question`]=this.editorRefs[`${r}:question`],this.editorRefs[`${r+1}:answer`]=this.editorRefs[`${r}:answer`],r--;i.splice(e+1,0,{id:pe.generateId("faq-question"),question:t,answer:s,jsonQuestion:"",jsonAnswer:""}),this.props.setAttributes({questions:i}),o?setTimeout(this.setFocus.bind(this,`${e+1}:question`)):d(Object(n.__)("New question added","wordpress-seo"))}swapQuestions(e,t){const s=this.props.attributes.questions?this.props.attributes.questions.slice():[],n=s[e];s[e]=s[t],s[t]=n;const o=this.editorRefs[`${e}:question`];this.editorRefs[`${e}:question`]=this.editorRefs[`${t}:question`],this.editorRefs[`${t}:question`]=o;const i=this.editorRefs[`${e}:answer`];this.editorRefs[`${e}:answer`]=this.editorRefs[`${t}:answer`],this.editorRefs[`${t}:answer`]=i,this.props.setAttributes({questions:s});const[r,a]=this.state.focus.split(":");r===`${e}`?this.setFocus(a,t):r===`${t}`&&this.setFocus(a,e)}moveQuestionUp(e){this.swapQuestions(e,e-1)}moveQuestionDown(e){this.swapQuestions(e,e+1)}removeQuestion(e){const t=this.props.attributes.questions?this.props.attributes.questions.slice():[];t.splice(e,1),this.props.setAttributes({questions:t}),delete this.editorRefs[`${e}:question`],delete this.editorRefs[`${e}:answer`];let s=e+1;for(;this.editorRefs[`${s}:question`]||this.editorRefs[`${s}:answer`];)this.editorRefs[`${s-1}:question`]=this.editorRefs[`${s}:question`],this.editorRefs[`${s-1}:answer`]=this.editorRefs[`${s}:answer`],s++;const n=t.length;delete this.editorRefs[`${n}:question`],delete this.editorRefs[`${n}:answer`];let o="0:question";this.editorRefs[`${e}:question`]?o=`${e}:question`:this.editorRefs[`${e-1}:answer`]&&(o=`${e-1}:answer`),this.setFocus(o)}setFocus(e,t){const s=`${t}:${e}`;s!==this.state.focus&&(this.setState({focus:s}),this.editorRefs[s]&&this.editorRefs[s].focus())}getAddQuestionButton(){return wp.element.createElement(ie,{icon:"insert",onClick:this.onAddQuestionButtonClick,className:"schema-faq-add-question"},Object(n.__)("Add question","wordpress-seo"))}getQuestions(){const{attributes:e}=this.props;if(!e.questions)return null;const[t,s]=this.state.focus.split(":");return e.questions.map((n,o)=>wp.element.createElement(ne,{index:o,key:n.id,attributes:n,insertQuestion:this.insertQuestion,removeQuestion:this.removeQuestion,editorRef:this.setQuestionRef,onChange:this.changeQuestion,onFocus:this.setFocus,isSelected:t===`${o}`,subElement:s,onMoveUp:this.moveQuestionUp,onMoveDown:this.moveQuestionDown,isFirst:0===o,isLast:o===e.questions.length-1}))}static Content(e){const{questions:t,className:s}=e,n=t?t.map((e,t)=>wp.element.createElement(ce,oe({key:t},e))):null,o=["schema-faq",s].filter(e=>e).join(" ");return wp.element.createElement("div",{className:o},n)}render(){const{className:e}=this.props,t=["schema-faq",e].filter(e=>e).join(" ");return wp.element.createElement("div",{className:t},wp.element.createElement("div",null,this.getQuestions()),wp.element.createElement("div",{className:"schema-faq-buttons"},this.getAddQuestionButton()))}}function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}pe.propTypes={attributes:i.a.object.isRequired,setAttributes:i.a.func.isRequired,className:i.a.string},pe.defaultProps={className:""};const{RichText:le}=window.wp.editor;function he(e){const t=b(le.Content);return wp.element.createElement("div",{className:"schema-faq-section",key:e.id},wp.element.createElement(t,{tagName:"strong",className:"schema-faq-question",key:e.id+"-question",value:e.question}),wp.element.createElement(t,{tagName:"p",className:"schema-faq-answer",key:e.id+"-answer",value:e.answer}))}function de(e){const{questions:t,className:s}=e.attributes,n=b(he),o=t?t.map((e,t)=>wp.element.createElement(n,ue({key:t},e))):null,i=["schema-faq",s].filter(e=>e).join(" ");return wp.element.createElement("div",{className:i},o)}de.propTypes={attributes:i.a.object.isRequired};var me={v13_1:de};const{registerBlockType:we}=window.wp.blocks,fe={questions:{type:"array"},additionalListCssClasses:{type:"string"}};V("yoast/how-to-block",{title:Object(n.__)("How-to","wordpress-seo"),description:Object(n.__)("Create a How-to guide in an SEO-friendly way. You can only use one How-to block per post.","wordpress-seo"),icon:"editor-ol",category:"yoast-structured-data-blocks",keywords:[Object(n.__)("How-to","wordpress-seo"),Object(n.__)("How to","wordpress-seo"),Object(n.__)("Schema","wordpress-seo")],supports:{multiple:!1},attributes:G,edit:({attributes:e,setAttributes:t,className:s})=>(e.steps&&0!==e.steps.length||(e.steps=[{id:L.generateId("how-to-step"),name:[],text:[]}]),wp.element.createElement(L,{attributes:e,setAttributes:t,className:s})),save:function({attributes:e}){return wp.element.createElement(L.Content,e)},deprecated:[{attributes:G,save:K.v11_4},{attributes:G,save:K.v8_2}]}),we("yoast/faq-block",{title:Object(n.__)("FAQ","wordpress-seo"),description:Object(n.__)("List your Frequently Asked Questions in an SEO-friendly way. You can only use one FAQ block per post.","wordpress-seo"),icon:"editor-ul",category:"yoast-structured-data-blocks",keywords:[Object(n.__)("FAQ","wordpress-seo"),Object(n.__)("Frequently Asked Questions","wordpress-seo"),Object(n.__)("Schema","wordpress-seo")],supports:{multiple:!1},attributes:fe,edit:({attributes:e,setAttributes:t,className:s})=>(e.questions&&0!==e.questions.length||(e.questions=[{id:pe.generateId("faq-question"),question:[],answer:[]}]),wp.element.createElement(pe,{attributes:e,setAttributes:t,className:s})),save:function({attributes:e}){return wp.element.createElement(pe.Content,e)},deprecated:[{attributes:fe,save:me.v13_1}]})},41:function(e,t,s){"use strict";var n=function(e){};e.exports=function(e,t,s,o,i,r,a,c){if(n(t),!e){var p;if(void 0===t)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[s,o,i,r,a,c],l=0;(p=new Error(t.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw p.framesToPop=1,p}}},42:function(e,t,s){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},59:function(e,t){e.exports=window.wp.isShallowEqual},6:function(e,t){e.exports=window.yoast.styledComponents}},[[407,0]]]);