(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,n=window.wp.data,a=window.wp.domReady;var s=e.n(a);const o=window.wp.element,r=window.yoast.uiLibrary,i=window.lodash,l=window.yoast.reduxJsToolkit,c="adminUrl",d=(0,l.createSlice)({name:c,initialState:"",reducers:{setAdminUrl:(e,{payload:t})=>t}}),u=(d.getInitialState,{selectAdminUrl:e=>(0,i.get)(e,c,"")});u.selectAdminLink=(0,l.createSelector)([u.selectAdminUrl,(e,t)=>t],((e,t="")=>{try{return new URL(t,e).href}catch(t){return e}})),d.actions,d.reducer;const m=window.wp.apiFetch;var p=e.n(m);const y="hasConsent",g=`${y}/storeConsent`,w=(0,l.createSlice)({name:y,initialState:{hasConsent:!1,endpoint:"yoast/v1/ai_generator/consent"},reducers:{giveAiGeneratorConsent:(e,{payload:t})=>{e.hasConsent=t},setAiGeneratorConsentEndpoint:(e,{payload:t})=>{e.endpoint=t}}}),h=w.getInitialState,v={selectHasAiGeneratorConsent:e=>(0,i.get)(e,[y,"hasConsent"],w.getInitialState().hasConsent),selectAiGeneratorConsentEndpoint:e=>(0,i.get)(e,[y,"endpoint"],w.getInitialState().endpoint)},f={...w.actions,storeAiGeneratorConsent:function*(e,t){try{yield{type:g,payload:{consent:e,endpoint:t}}}catch(e){return!1}return yield{type:`${y}/giveAiGeneratorConsent`,payload:e},!0}},E={[g]:async({payload:e})=>await p()({path:e.endpoint,method:"POST",data:{consent:e.consent},parse:!1})},S=w.reducer,b=window.wp.url,C="linkParams",I=(0,l.createSlice)({name:C,initialState:{},reducers:{setLinkParams:(e,{payload:t})=>t}}),x=I.getInitialState,P={selectLinkParam:(e,t,n={})=>(0,i.get)(e,`${C}.${t}`,n),selectLinkParams:e=>(0,i.get)(e,C,{})};P.selectLink=(0,l.createSelector)([P.selectLinkParams,(e,t)=>t,(e,t,n={})=>n],((e,t,n)=>(0,b.addQueryArgs)(t,{...e,...n})));const k=I.actions,_=I.reducer,O=(0,l.createSlice)({name:"notifications",initialState:{},reducers:{addNotification:{reducer:(e,{payload:t})=>{e[t.id]={id:t.id,variant:t.variant,size:t.size,title:t.title,description:t.description}},prepare:({id:e,variant:t="info",size:n="default",title:a,description:s})=>({payload:{id:e||(0,l.nanoid)(),variant:t,size:n,title:a||"",description:s}})},removeNotification:(e,{payload:t})=>(0,i.omit)(e,t)}}),$=(O.getInitialState,O.actions,O.reducer,"pluginUrl"),N=(0,l.createSlice)({name:$,initialState:"",reducers:{setPluginUrl:(e,{payload:t})=>t}}),L=N.getInitialState,A={selectPluginUrl:e=>(0,i.get)(e,$,"")};A.selectImageLink=(0,l.createSelector)([A.selectPluginUrl,(e,t,n="images")=>n,(e,t)=>t],((e,t,n)=>[(0,i.trimEnd)(e,"/"),(0,i.trim)(t,"/"),(0,i.trimStart)(n,"/")].join("/")));const R=N.actions,U=N.reducer,T="request",B="success",G="error",Y="idle",M="wistiaEmbedPermission",W=(0,l.createSlice)({name:M,initialState:{value:!1,status:Y,error:{}},reducers:{setWistiaEmbedPermissionValue:(e,{payload:t})=>{e.value=Boolean(t)}},extraReducers:e=>{e.addCase(`${M}/${T}`,(e=>{e.status="loading"})),e.addCase(`${M}/${B}`,((e,{payload:t})=>{e.status="success",e.value=Boolean(t&&t.value)})),e.addCase(`${M}/${G}`,((e,{payload:t})=>{e.status="error",e.value=Boolean(t&&t.value),e.error={code:(0,i.get)(t,"error.code",500),message:(0,i.get)(t,"error.message","Unknown")}}))}}),z=W.getInitialState,q={selectWistiaEmbedPermission:e=>(0,i.get)(e,M,{value:!1,status:Y}),selectWistiaEmbedPermissionValue:e=>(0,i.get)(e,[M,"value"],!1),selectWistiaEmbedPermissionStatus:e=>(0,i.get)(e,[M,"status"],Y),selectWistiaEmbedPermissionError:e=>(0,i.get)(e,[M,"error"],{})},j={...W.actions,setWistiaEmbedPermission:function*(e){yield{type:`${M}/${T}`};try{return yield{type:M,payload:e},{type:`${M}/${B}`,payload:{value:e}}}catch(t){return{type:`${M}/${G}`,payload:{error:t,value:e}}}}},D={[M]:async({payload:e})=>p()({path:"/yoast/v1/wistia_embed_permission",method:"POST",data:{value:Boolean(e)}})},F=W.reducer;var V;const H=(0,l.createSlice)({name:"documentTitle",initialState:(0,i.defaultTo)(null===(V=document)||void 0===V?void 0:V.title,""),reducers:{setDocumentTitle:(e,{payload:t})=>t}});H.getInitialState,H.actions,H.reducer;const J=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"}))})),Q=window.wp.i18n,K=window.yoast.propTypes;var X=e.n(K);const Z=({thumbnail:e,buttonLink:n,buttonLabel:a=(0,Q.sprintf)(/* translators: %1$s expands to Yoast SEO Premium. */
(0,Q.__)("Unlock with %1$s","wordpress-seo"),"Yoast SEO Premium"),productName:s="Yoast SEO Premium",freeCopy:o=(0,Q.__)("Optimize as you draft for SEO, inclusivity, and readability. The Yoast SEO Google Docs add-on lets you export content ready for WordPress, no reformatting required. Purchase separately or with Yoast SEO Premium.","wordpress-seo"),premiumCopy:i=(0,Q.__)("Access all your favorite Yoast content analysis tools for SEO, readability, and inclusivity, right inside Google Docs. You can draft, collaborate, edit and export content perfectly formatted for WordPress.","wordpress-seo"),isPremium:l=!1,ctbId:c="f6a84663-465f-4cb5-8ba5-f7a6d72224b2"})=>{const{onClose:d,initialFocus:u}=(0,r.useModalContext)();return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"yst-px-10 yst-pt-10 yst-introduction-gradient yst-text-center"},(0,t.createElement)("img",{className:"yst-w-full yst-h-auto yst-rounded-md",alt:"Thumbnail for Yoast SEO Google Docs Add-On",loading:"lazy",decoding:"async",...e}),(0,t.createElement)("div",{className:"yst-mt-6 yst-text-xs yst-font-medium yst-flex yst-flex-col yst-items-center"},(0,t.createElement)("span",{className:"yst-introduction-modal-uppercase yst-flex yst-gap-2 yst-items-center"},(0,t.createElement)("span",{className:"yst-logo-icon"}),s))),(0,t.createElement)("div",{className:"yst-px-10 yst-pb-4 yst-flex yst-flex-col yst-items-center"},(0,t.createElement)("div",{className:"yst-mt-4 yst-mx-1.5 yst-text-center"},(0,t.createElement)("h3",{className:"yst-text-slate-900 yst-text-lg yst-font-medium"},(0,Q.__)("Get one seat for the new Google Docs Add-On","wordpress-seo")),(0,t.createElement)("div",{className:"yst-mt-2 yst-text-slate-600 yst-text-sm"},l?(0,t.createElement)("p",null,i):(0,t.createElement)("p",null,o))),(0,t.createElement)("div",{className:"yst-w-full yst-flex yst-mt-6"},l?(0,t.createElement)(r.Button,{as:"a",className:"yst-grow",size:"extra-large",variant:"primary",href:n,target:"_blank",ref:u},a,(0,t.createElement)("span",{className:"yst-sr-only"},/* translators: Hidden accessibility text. */
(0,Q.__)("(Opens in a new browser tab)","wordpress-seo"))):(0,t.createElement)(r.Button,{as:"a",className:"yst-grow",size:"extra-large",variant:"upsell",href:n,target:"_blank",ref:u,"data-action":"load-nfd-ctb","data-ctb-id":c},(0,t.createElement)(J,{className:"yst--ms-1 yst-me-2 yst-h-5 yst-w-5"}),a,(0,t.createElement)("span",{className:"yst-sr-only"},/* translators: Hidden accessibility text. */
(0,Q.__)("(Opens in a new browser tab)","wordpress-seo")))),(0,t.createElement)(r.Button,{as:"a",className:"yst-mt-4",variant:"tertiary",onClick:d},(0,Q.__)("Close","wordpress-seo"))))};Z.propTypes={buttonLink:X().string.isRequired,thumbnail:X().shape({src:X().string.isRequired,width:X().string,height:X().string}).isRequired,buttonLabel:X().string,productName:X().string,isPremium:X().bool,ctbId:X().string};const ee="yoast-seo/introductions",te=({children:e})=>{const[n,a]=(0,o.useState)(!0),s=(0,o.useRef)(null),i=(0,o.useCallback)((()=>a(!1)),[]);return(0,t.createElement)(r.Modal,{className:"yst-introduction-modal yst-h-[calc(100vh - 1rem)] sm:yst-h-[calc(100vh - 2rem)] md:yst-h-[calc(100vh - 5rem)]) yst-overflow-y-auto",isOpen:n,onClose:i,initialFocus:s},(0,t.createElement)(r.Modal.Panel,{className:"yst-max-w-lg yst-p-0 yst-rounded-3xl"},e))};te.propTypes={children:X().node.isRequired};const ne=()=>{const e=(0,n.useSelect)((e=>e(ee).selectImageLink("google-docs-addon-thumbnail.png")),[]),a=(0,o.useMemo)((()=>Boolean((0,i.get)(window,"wpseoIntroductions.isPremium",!1))),[]),s=(0,n.useSelect)((e=>e(ee).selectLink("https://yoa.st/google-docs-add-on-introduction-upsell/")),[]),r=(0,n.useSelect)((e=>e(ee).selectLink("https://yoa.st/google-docs-add-on-introduction-get-started/")),[]),l=(0,o.useMemo)((()=>({src:e,width:"432",height:"243"})),[e]),c=(0,o.useMemo)((()=>a?(0,Q.__)("Activate your free seat","wordpress-seo"):(0,Q.sprintf)(/* translators: %1$s expands to Yoast SEO Premium. */
(0,Q.__)("Unlock with %1$s","wordpress-seo"),"Yoast SEO Premium")),[a]);return(0,t.createElement)(te,null,(0,t.createElement)(Z,{buttonLink:a?r:s,thumbnail:l,buttonLabel:c,isPremium:a}))},ae=window.wp.hooks;window.YoastSEO=window.YoastSEO||{};const se=(0,o.createContext)({}),oe=({children:e,initialComponents:a})=>{const[s,r]=(0,o.useState)(a),l=(0,n.useSelect)((e=>e(ee).selectIntroductions()),[]),c=(0,o.useCallback)(((e,t)=>{(0,i.find)(l,{id:e})?r((n=>({...n,[e]:t}))):console.error("Warning: Introductions received a registration for an unknown key:",e)}),[l,r]);return(0,o.useEffect)((()=>{window.YoastSEO._registerIntroductionComponent=c,(0,ae.doAction)("yoast.introductions.ready")}),[c]),(0,t.createElement)(se.Provider,{value:s},e)};oe.propTypes={children:X().node.isRequired,initialComponents:X().object.isRequired};const re=()=>{const e=(0,n.useSelect)((e=>e(ee).selectCurrentIntroduction()),[]),a=(0,o.useContext)(se),s=(0,o.useMemo)((()=>null==a?void 0:a[null==e?void 0:e.id]),[e,a]);return s?(0,t.createElement)(s,null):null},ie="introductions",le=(0,l.createEntityAdapter)({selectId:e=>e.id,sortComparer:(e,t)=>e.priority===t.priority?0:e.priority<t.priority?-1:1}),ce=e=>({id:e.id||(0,l.nanoid)(),priority:e.priority||0}),de=(0,l.createSlice)({name:ie,initialState:le.getInitialState({current:0}),reducers:{addIntroduction:{reducer:le.addOne,prepare:e=>({payload:ce(e)})},addIntroductions:{reducer:le.addMany,prepare:e=>({payload:(0,i.map)(e,ce)})},setIntroductions:{reducer:le.setAll,prepare:e=>({payload:(0,i.map)(e,ce)})}}}),ue=de.getInitialState,me=le.getSelectors((e=>(0,i.get)(e,ie,{}))),pe={selectCurrentIntroductionIndex:e=>(0,i.get)(e,[ie,"current"],0),selectIntroduction:me.selectById,selectIntroductions:me.selectAll};pe.selectCurrentIntroduction=(0,l.createSelector)([pe.selectCurrentIntroductionIndex,pe.selectIntroductions],((e,t)=>t[e]));const ye=de.actions,ge=de.reducer,we="wpseoIntroductions";s()((()=>{const e=(0,i.get)(window,`${we}.introductions`,[]);if((0,i.isEmpty)(e))return;((e={})=>{(0,n.register)((e=>(0,n.createReduxStore)(ee,{actions:{...ye,...k,...R,...j,...f},selectors:{...pe,...P,...A,...q,...v},initialState:(0,i.merge)({},{[ie]:ue(),[C]:x(),[$]:L(),[M]:z(),[y]:h()},e),reducer:(0,n.combineReducers)({[ie]:ge,[C]:_,[$]:U,[M]:F,[y]:S}),controls:{...D,...E}}))(e))})({[C]:(0,i.get)(window,`${we}.linkParams`,{}),[$]:(0,i.get)(window,`${we}.pluginUrl`,""),[M]:{value:"1"===(0,i.get)(window,`${we}.wistiaEmbedPermission`,!1)}}),(0,n.dispatch)(ee).setIntroductions(e);const a={isRtl:Boolean((0,i.get)(window,`${we}.isRtl`,!1))},s={"google-docs-addon-upsell":ne},l=document.createElement("div");l.id="wpseo-introductions",document.body.appendChild(l),(0,o.createRoot)(l).render((0,t.createElement)(r.Root,{context:a},(0,t.createElement)(oe,{initialComponents:s},(0,t.createElement)(re,null))))}))})();