(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,n=window.wp.data,s=window.wp.domReady;var a=e.n(s);const i=window.wp.element,r=window.yoast.uiLibrary,o=window.lodash,l=window.yoast.reduxJsToolkit,c="adminUrl",d=(0,l.createSlice)({name:c,initialState:"",reducers:{setAdminUrl:(e,{payload:t})=>t}}),u=(d.getInitialState,{selectAdminUrl:e=>(0,o.get)(e,c,"")});u.selectAdminLink=(0,l.createSelector)([u.selectAdminUrl,(e,t)=>t],((e,t="")=>{try{return new URL(t,e).href}catch(t){return e}})),d.actions,d.reducer;const m=window.wp.apiFetch;var p=e.n(m);const y="hasConsent",g=`${y}/storeConsent`,w=(0,l.createSlice)({name:y,initialState:{hasConsent:!1,endpoint:"yoast/v1/ai_generator/consent"},reducers:{giveAiGeneratorConsent:(e,{payload:t})=>{e.hasConsent=t},setAiGeneratorConsentEndpoint:(e,{payload:t})=>{e.endpoint=t}}}),h=w.getInitialState,v={selectHasAiGeneratorConsent:e=>(0,o.get)(e,[y,"hasConsent"],w.getInitialState().hasConsent),selectAiGeneratorConsentEndpoint:e=>(0,o.get)(e,[y,"endpoint"],w.getInitialState().endpoint)},b={...w.actions,storeAiGeneratorConsent:function*(e,t){try{yield{type:g,payload:{consent:e,endpoint:t}}}catch(e){return!1}return yield{type:`${y}/giveAiGeneratorConsent`,payload:e},!0}},S={[g]:async({payload:e})=>await p()({path:e.endpoint,method:"POST",data:{consent:e.consent},parse:!1})},E=w.reducer,f=window.wp.url,I="linkParams",C=(0,l.createSlice)({name:I,initialState:{},reducers:{setLinkParams:(e,{payload:t})=>t}}),x=C.getInitialState,k={selectLinkParam:(e,t,n={})=>(0,o.get)(e,`${I}.${t}`,n),selectLinkParams:e=>(0,o.get)(e,I,{})};k.selectLink=(0,l.createSelector)([k.selectLinkParams,(e,t)=>t,(e,t,n={})=>n],((e,t,n)=>(0,f.addQueryArgs)(t,{...e,...n})));const P=C.actions,$=C.reducer,_=(0,l.createSlice)({name:"notifications",initialState:{},reducers:{addNotification:{reducer:(e,{payload:t})=>{e[t.id]={id:t.id,variant:t.variant,size:t.size,title:t.title,description:t.description}},prepare:({id:e,variant:t="info",size:n="default",title:s,description:a})=>({payload:{id:e||(0,l.nanoid)(),variant:t,size:n,title:s||"",description:a}})},removeNotification:(e,{payload:t})=>(0,o.omit)(e,t)}}),N=(_.getInitialState,_.actions,_.reducer,"pluginUrl"),A=(0,l.createSlice)({name:N,initialState:"",reducers:{setPluginUrl:(e,{payload:t})=>t}}),L=A.getInitialState,R={selectPluginUrl:e=>(0,o.get)(e,N,"")};R.selectImageLink=(0,l.createSelector)([R.selectPluginUrl,(e,t,n="images")=>n,(e,t)=>t],((e,t,n)=>[(0,o.trimEnd)(e,"/"),(0,o.trim)(t,"/"),(0,o.trimStart)(n,"/")].join("/")));const O=A.actions,T=A.reducer,U="request",M="success",W="error",j="idle",B="wistiaEmbedPermission",q=(0,l.createSlice)({name:B,initialState:{value:!1,status:j,error:{}},reducers:{setWistiaEmbedPermissionValue:(e,{payload:t})=>{e.value=Boolean(t)}},extraReducers:e=>{e.addCase(`${B}/${U}`,(e=>{e.status="loading"})),e.addCase(`${B}/${M}`,((e,{payload:t})=>{e.status="success",e.value=Boolean(t&&t.value)})),e.addCase(`${B}/${W}`,((e,{payload:t})=>{e.status="error",e.value=Boolean(t&&t.value),e.error={code:(0,o.get)(t,"error.code",500),message:(0,o.get)(t,"error.message","Unknown")}}))}}),z=q.getInitialState,G={selectWistiaEmbedPermission:e=>(0,o.get)(e,B,{value:!1,status:j}),selectWistiaEmbedPermissionValue:e=>(0,o.get)(e,[B,"value"],!1),selectWistiaEmbedPermissionStatus:e=>(0,o.get)(e,[B,"status"],j),selectWistiaEmbedPermissionError:e=>(0,o.get)(e,[B,"error"],{})},F={...q.actions,setWistiaEmbedPermission:function*(e){yield{type:`${B}/${U}`};try{return yield{type:B,payload:e},{type:`${B}/${M}`,payload:{value:e}}}catch(t){return{type:`${B}/${W}`,payload:{error:t,value:e}}}}},Y={[B]:async({payload:e})=>p()({path:"/yoast/v1/wistia_embed_permission",method:"POST",data:{value:Boolean(e)}})},V=q.reducer;var H;const J=(0,l.createSlice)({name:"documentTitle",initialState:(0,o.defaultTo)(null===(H=document)||void 0===H?void 0:H.title,""),reducers:{setDocumentTitle:(e,{payload:t})=>t}}),D=(J.getInitialState,J.actions,J.reducer,window.wp.i18n),Q=window.yoast.propTypes;var K,X=e.n(Q);function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Z.apply(this,arguments)}const ee=e=>t.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none","aria-hidden":"true"},e),K||(K=t.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.333,d:"M2.333 1v2.667M1 2.333h2.666m-.666 8V13m-1.334-1.333h2.667M7.666 1 9.19 5.57 13 7 9.19 8.429l-1.524 4.57-1.524-4.57-3.81-1.43 3.81-1.428L7.666 1z"}))),te=({thumbnail:e,buttonLink:n,buttonLabel:s=(0,D.__)("Join the waitlist","wordpress-seo"),productName:a=(0,D.sprintf)(/* translators: %1$s expands to Yoast AI brand insights. */
(0,D.__)("Introducing %1$s","wordpress-seo"),"Yoast AI brand insights"),description:i=(0,D.__)("Track visibility, control perception, and stay ahead - tools to manage your AI presence are coming soon!","wordpress-seo")})=>{const{onClose:o,initialFocus:l}=(0,r.useModalContext)();return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"yst-px-10 yst-pt-10 yst-introduction-gradient yst-text-center"},(0,t.createElement)("img",{className:"yst-w-full yst-h-auto yst-rounded-md yst-drop-shadow-md",alt:(0,D.__)("Web chart showing aspects of brand visibility in AI responses","wordpress-seo"),loading:"lazy",decoding:"async",...e}),(0,t.createElement)("div",{className:"yst-mt-6 yst-text-xs yst-font-medium yst-flex yst-flex-col yst-items-center"},(0,t.createElement)("span",{className:"yst-introduction-modal-uppercase yst-flex yst-gap-2 yst-items-center"},(0,t.createElement)("span",{className:"yst-ai-insights-icon"}),a))),(0,t.createElement)("div",{className:"yst-px-10 yst-pb-4 yst-flex yst-flex-col yst-items-center"},(0,t.createElement)("div",{className:"yst-mt-4 yst-mx-1.5 yst-text-center"},(0,t.createElement)("h3",{className:"yst-text-slate-900 yst-text-lg yst-font-medium"},(0,D.__)("How does your brand show up in AI responses?","wordpress-seo")),(0,t.createElement)("div",{className:"yst-mt-2 yst-text-slate-600 yst-text-sm"},(0,t.createElement)("p",null,i))),(0,t.createElement)("div",{className:"yst-w-full yst-flex yst-mt-6"},(0,t.createElement)(r.Button,{as:"a",className:"yst-grow yst-gap-2 yst-border-slate-200 yst-ai-insights-waitlist-button",size:"extra-large",variant:"upsell",href:n,target:"_blank",ref:l},(0,t.createElement)(ee,{className:"yst-mt-[1px]"}),s,(0,t.createElement)("span",{className:"yst-sr-only"},/* translators: Hidden accessibility text. */
(0,D.__)("(Opens in a new browser tab)","wordpress-seo")))),(0,t.createElement)(r.Button,{className:"yst-mt-2",variant:"tertiary",onClick:o},(0,D.__)("Close","wordpress-seo"))))};te.propTypes={buttonLink:X().string.isRequired,thumbnail:X().shape({src:X().string.isRequired,width:X().string,height:X().string}).isRequired,buttonLabel:X().string,productName:X().string,description:X().string,ctbId:X().string};const ne="yoast-seo/introductions",se=({children:e})=>{const[n,s]=(0,i.useState)(!0),a=(0,i.useRef)(null),o=(0,i.useCallback)((()=>s(!1)),[]);return(0,t.createElement)(r.Modal,{className:"yst-introduction-modal yst-h-[calc(100vh - 1rem)] sm:yst-h-[calc(100vh - 2rem)] md:yst-h-[calc(100vh - 5rem)]) yst-overflow-y-auto",isOpen:n,onClose:o,initialFocus:a},(0,t.createElement)(r.Modal.Panel,{className:"yst-max-w-lg yst-p-0 yst-rounded-3xl"},e))};se.propTypes={children:X().node.isRequired};const ae=()=>{const e=(0,n.useSelect)((e=>e(ne).selectImageLink("ai-brand-insights-pre-launch.png")),[]),s=(0,n.useSelect)((e=>e(ne).selectLink("https://yoa.st/ai-brand-insights-introduction-pre-launch/")),[]),a=(0,i.useMemo)((()=>({src:e,width:"432",height:"243"})),[e]);return(0,t.createElement)(se,null,(0,t.createElement)(te,{buttonLink:s,thumbnail:a}))},ie=window.wp.hooks;window.YoastSEO=window.YoastSEO||{};const re=(0,i.createContext)({}),oe=({children:e,initialComponents:s})=>{const[a,r]=(0,i.useState)(s),l=(0,n.useSelect)((e=>e(ne).selectIntroductions()),[]),c=(0,i.useCallback)(((e,t)=>{(0,o.find)(l,{id:e})?r((n=>({...n,[e]:t}))):console.error("Warning: Introductions received a registration for an unknown key:",e)}),[l,r]);return(0,i.useEffect)((()=>{window.YoastSEO._registerIntroductionComponent=c,(0,ie.doAction)("yoast.introductions.ready")}),[c]),(0,t.createElement)(re.Provider,{value:a},e)};oe.propTypes={children:X().node.isRequired,initialComponents:X().object.isRequired};const le=()=>{const e=(0,n.useSelect)((e=>e(ne).selectCurrentIntroduction()),[]),s=(0,i.useContext)(re),a=(0,i.useMemo)((()=>null==s?void 0:s[null==e?void 0:e.id]),[e,s]);return a?(0,t.createElement)(a,null):null},ce="introductions",de=(0,l.createEntityAdapter)({selectId:e=>e.id,sortComparer:(e,t)=>e.priority===t.priority?0:e.priority<t.priority?-1:1}),ue=e=>({id:e.id||(0,l.nanoid)(),priority:e.priority||0}),me=(0,l.createSlice)({name:ce,initialState:de.getInitialState({current:0}),reducers:{addIntroduction:{reducer:de.addOne,prepare:e=>({payload:ue(e)})},addIntroductions:{reducer:de.addMany,prepare:e=>({payload:(0,o.map)(e,ue)})},setIntroductions:{reducer:de.setAll,prepare:e=>({payload:(0,o.map)(e,ue)})}}}),pe=me.getInitialState,ye=de.getSelectors((e=>(0,o.get)(e,ce,{}))),ge={selectCurrentIntroductionIndex:e=>(0,o.get)(e,[ce,"current"],0),selectIntroduction:ye.selectById,selectIntroductions:ye.selectAll};ge.selectCurrentIntroduction=(0,l.createSelector)([ge.selectCurrentIntroductionIndex,ge.selectIntroductions],((e,t)=>t[e]));const we=me.actions,he=me.reducer,ve="wpseoIntroductions";a()((()=>{const e=(0,o.get)(window,`${ve}.introductions`,[]);if((0,o.isEmpty)(e))return;((e={})=>{(0,n.register)((e=>(0,n.createReduxStore)(ne,{actions:{...we,...P,...O,...F,...b},selectors:{...ge,...k,...R,...G,...v},initialState:(0,o.merge)({},{[ce]:pe(),[I]:x(),[N]:L(),[B]:z(),[y]:h()},e),reducer:(0,n.combineReducers)({[ce]:he,[I]:$,[N]:T,[B]:V,[y]:E}),controls:{...Y,...S}}))(e))})({[I]:(0,o.get)(window,`${ve}.linkParams`,{}),[N]:(0,o.get)(window,`${ve}.pluginUrl`,""),[B]:{value:"1"===(0,o.get)(window,`${ve}.wistiaEmbedPermission`,!1)}}),(0,n.dispatch)(ne).setIntroductions(e);const s={isRtl:Boolean((0,o.get)(window,`${ve}.isRtl`,!1))},a={"ai-brand-insights-pre-launch":ae},l=document.createElement("div");l.id="wpseo-introductions",document.body.appendChild(l),(0,i.createRoot)(l).render((0,t.createElement)(r.Root,{context:s},(0,t.createElement)(oe,{initialComponents:a},(0,t.createElement)(le,null))))}))})();