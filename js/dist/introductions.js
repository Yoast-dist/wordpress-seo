(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var n in s)e.o(s,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:s[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.apiFetch;var s=e.n(t);const n=window.wp.data,i=window.wp.domReady;var r=e.n(i);const a=window.wp.hooks,o=window.wp.element,d=window.yoast.uiLibrary,c=window.lodash,l=window.yoast.reduxJsToolkit,u="adminUrl",p=(0,l.createSlice)({name:u,initialState:"",reducers:{setAdminUrl:(e,{payload:t})=>t}}),y=(p.getInitialState,{selectAdminUrl:e=>(0,c.get)(e,u,"")});y.selectAdminLink=(0,l.createSelector)([y.selectAdminUrl,(e,t)=>t],((e,t="")=>{try{return new URL(t,e).href}catch(t){return e}})),p.actions,p.reducer;const m="hasConsent",g=`${m}/storeConsent`,h=(0,l.createSlice)({name:m,initialState:{hasConsent:!1,endpoint:"yoast/v1/ai_generator/consent"},reducers:{giveAiGeneratorConsent:(e,{payload:t})=>{e.hasConsent=t},setAiGeneratorConsentEndpoint:(e,{payload:t})=>{e.endpoint=t}}}),w=h.getInitialState,v={selectHasAiGeneratorConsent:e=>(0,c.get)(e,[m,"hasConsent"],h.getInitialState().hasConsent),selectAiGeneratorConsentEndpoint:e=>(0,c.get)(e,[m,"endpoint"],h.getInitialState().endpoint)},x={...h.actions,storeAiGeneratorConsent:function*(e,t){try{yield{type:g,payload:{consent:e,endpoint:t}}}catch(e){return!1}return yield{type:`${m}/giveAiGeneratorConsent`,payload:e},!0}},S={[g]:async({payload:e})=>await s()({path:e.endpoint,method:"POST",data:{consent:e.consent},parse:!1})},b=h.reducer,f=window.wp.url,I="linkParams",C=(0,l.createSlice)({name:I,initialState:{},reducers:{setLinkParams:(e,{payload:t})=>t}}),j=C.getInitialState,k={selectLinkParam:(e,t,s={})=>(0,c.get)(e,`${I}.${t}`,s),selectLinkParams:e=>(0,c.get)(e,I,{})};k.selectLink=(0,l.createSelector)([k.selectLinkParams,(e,t)=>t,(e,t,s={})=>s],((e,t,s)=>(0,f.addQueryArgs)(t,{...e,...s})));const P=C.actions,_=C.reducer,E=(0,l.createSlice)({name:"notifications",initialState:{},reducers:{addNotification:{reducer:(e,{payload:t})=>{e[t.id]={id:t.id,variant:t.variant,size:t.size,title:t.title,description:t.description}},prepare:({id:e,variant:t="info",size:s="default",title:n,description:i})=>({payload:{id:e||(0,l.nanoid)(),variant:t,size:s,title:n||"",description:i}})},removeNotification:(e,{payload:t})=>(0,c.omit)(e,t)}}),$=(E.getInitialState,E.actions,E.reducer,"pluginUrl"),A=(0,l.createSlice)({name:$,initialState:"",reducers:{setPluginUrl:(e,{payload:t})=>t}}),N=A.getInitialState,O={selectPluginUrl:e=>(0,c.get)(e,$,"")};O.selectImageLink=(0,l.createSelector)([O.selectPluginUrl,(e,t,s="images")=>s,(e,t)=>t],((e,t,s)=>[(0,c.trimEnd)(e,"/"),(0,c.trim)(t,"/"),(0,c.trimStart)(s,"/")].join("/")));const L=A.actions,R=A.reducer,T="request",U="success",M="error",B="idle",W="wistiaEmbedPermission",q=(0,l.createSlice)({name:W,initialState:{value:!1,status:B,error:{}},reducers:{setWistiaEmbedPermissionValue:(e,{payload:t})=>{e.value=Boolean(t)}},extraReducers:e=>{e.addCase(`${W}/${T}`,(e=>{e.status="loading"})),e.addCase(`${W}/${U}`,((e,{payload:t})=>{e.status="success",e.value=Boolean(t&&t.value)})),e.addCase(`${W}/${M}`,((e,{payload:t})=>{e.status="error",e.value=Boolean(t&&t.value),e.error={code:(0,c.get)(t,"error.code",500),message:(0,c.get)(t,"error.message","Unknown")}}))}}),z=q.getInitialState,G={selectWistiaEmbedPermission:e=>(0,c.get)(e,W,{value:!1,status:B}),selectWistiaEmbedPermissionValue:e=>(0,c.get)(e,[W,"value"],!1),selectWistiaEmbedPermissionStatus:e=>(0,c.get)(e,[W,"status"],B),selectWistiaEmbedPermissionError:e=>(0,c.get)(e,[W,"error"],{})},Y={...q.actions,setWistiaEmbedPermission:function*(e){yield{type:`${W}/${T}`};try{return yield{type:W,payload:e},{type:`${W}/${U}`,payload:{value:e}}}catch(t){return{type:`${W}/${M}`,payload:{error:t,value:e}}}}},F={[W]:async({payload:e})=>s()({path:"/yoast/v1/wistia_embed_permission",method:"POST",data:{value:Boolean(e)}})},J=q.reducer;var V;const H=(0,l.createSlice)({name:"documentTitle",initialState:(0,c.defaultTo)(null===(V=document)||void 0===V?void 0:V.title,""),reducers:{setDocumentTitle:(e,{payload:t})=>t}}),D=(H.getInitialState,H.actions,H.reducer,window.wp.i18n),Q=window.yoast.propTypes;var X=e.n(Q);const K=window.React;var Z;function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ee.apply(this,arguments)}const te=e=>K.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none","aria-hidden":"true"},e),Z||(Z=K.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.333,d:"M2.333 1v2.667M1 2.333h2.666m-.666 8V13m-1.334-1.333h2.667M7.666 1 9.19 5.57 13 7 9.19 8.429l-1.524 4.57-1.524-4.57-3.81-1.43 3.81-1.428L7.666 1z"}))),se=window.ReactJSXRuntime,ne=({thumbnail:e,buttonLink:t,buttonLabel:s=(0,D.__)("Join the waitlist","wordpress-seo"),productName:n=(0,D.sprintf)(/* translators: %1$s expands to Yoast AI brand insights. */
(0,D.__)("Introducing %1$s","wordpress-seo"),"Yoast AI brand insights"),description:i=(0,D.__)("Track visibility, control perception, and stay ahead - tools to manage your AI presence are coming soon!","wordpress-seo")})=>{const{onClose:r,initialFocus:a}=(0,d.useModalContext)();return(0,se.jsxs)(se.Fragment,{children:[(0,se.jsxs)("div",{className:"yst-px-10 yst-pt-10 yst-introduction-gradient yst-text-center",children:[(0,se.jsx)("img",{className:"yst-w-full yst-h-auto yst-rounded-md yst-drop-shadow-md",alt:(0,D.__)("Web chart showing aspects of brand visibility in AI responses","wordpress-seo"),loading:"lazy",decoding:"async",...e}),(0,se.jsx)("div",{className:"yst-mt-6 yst-text-xs yst-font-medium yst-flex yst-flex-col yst-items-center",children:(0,se.jsxs)("span",{className:"yst-introduction-modal-uppercase yst-flex yst-gap-2 yst-items-center",children:[(0,se.jsx)("span",{className:"yst-ai-insights-icon"}),n]})})]}),(0,se.jsxs)("div",{className:"yst-px-10 yst-pb-4 yst-flex yst-flex-col yst-items-center",children:[(0,se.jsxs)("div",{className:"yst-mt-4 yst-mx-1.5 yst-text-center",children:[(0,se.jsx)("h3",{className:"yst-text-slate-900 yst-text-lg yst-font-medium",children:(0,D.__)("How does your brand show up in AI responses?","wordpress-seo")}),(0,se.jsx)("div",{className:"yst-mt-2 yst-text-slate-600 yst-text-sm",children:(0,se.jsx)("p",{children:i})})]}),(0,se.jsx)("div",{className:"yst-w-full yst-flex yst-mt-6",children:(0,se.jsxs)(d.Button,{as:"a",className:"yst-grow yst-gap-2 yst-border-slate-200 yst-ai-insights-waitlist-button",size:"extra-large",variant:"upsell",href:t,target:"_blank",ref:a,children:[(0,se.jsx)(te,{className:"yst-mt-[1px]"}),s,(0,se.jsx)("span",{className:"yst-sr-only",children:/* translators: Hidden accessibility text. */
(0,D.__)("(Opens in a new browser tab)","wordpress-seo")})]})}),(0,se.jsx)(d.Button,{className:"yst-mt-2",variant:"tertiary",onClick:r,children:(0,D.__)("Close","wordpress-seo")})]})]})};ne.propTypes={buttonLink:X().string.isRequired,thumbnail:X().shape({src:X().string.isRequired,width:X().string,height:X().string}).isRequired,buttonLabel:X().string,productName:X().string,description:X().string,ctbId:X().string};const ie="yoast-seo/introductions",re=({children:e})=>{const[t,s]=(0,o.useState)(!0),n=(0,o.useRef)(null),i=(0,o.useCallback)((()=>s(!1)),[]);return(0,se.jsx)(d.Modal,{className:"yst-introduction-modal yst-h-[calc(100vh - 1rem)] sm:yst-h-[calc(100vh - 2rem)] md:yst-h-[calc(100vh - 5rem)]) yst-overflow-y-auto",isOpen:t,onClose:i,initialFocus:n,children:(0,se.jsx)(d.Modal.Panel,{className:"yst-max-w-lg yst-p-0 yst-rounded-3xl",children:e})})};re.propTypes={children:X().node.isRequired};const ae=()=>{const e=(0,n.useSelect)((e=>e(ie).selectImageLink("ai-brand-insights-pre-launch.png")),[]),t=(0,n.useSelect)((e=>e(ie).selectLink("https://yoa.st/ai-brand-insights-introduction-pre-launch/")),[]),s=(0,o.useMemo)((()=>({src:e,width:"432",height:"243"})),[e]);return(0,se.jsx)(re,{children:(0,se.jsx)(ne,{buttonLink:t,thumbnail:s})})};window.YoastSEO=window.YoastSEO||{};const oe=(0,o.createContext)({}),de=({children:e,initialComponents:t})=>{const[s,i]=(0,o.useState)(t),r=(0,n.useSelect)((e=>e(ie).selectIntroductions()),[]),d=(0,o.useCallback)(((e,t)=>{(0,c.find)(r,{id:e})&&i((s=>({...s,[e]:t})))}),[r,i]);return(0,o.useEffect)((()=>{window.YoastSEO._registerIntroductionComponent=d,(0,a.doAction)("yoast.introductions.ready")}),[d]),(0,se.jsx)(oe.Provider,{value:s,children:e})};de.propTypes={children:X().node.isRequired,initialComponents:X().object.isRequired};const ce=()=>{const e=(0,n.useSelect)((e=>e(ie).selectCurrentIntroduction()),[]),t=(0,o.useContext)(oe),s=(0,o.useMemo)((()=>null==t?void 0:t[null==e?void 0:e.id]),[e,t]);return s?(0,se.jsx)(s,{}):null},le="introductions",ue=(0,l.createEntityAdapter)({selectId:e=>e.id,sortComparer:(e,t)=>e.priority===t.priority?0:e.priority<t.priority?-1:1}),pe=e=>({id:e.id||(0,l.nanoid)(),priority:e.priority||0}),ye=(0,l.createSlice)({name:le,initialState:ue.getInitialState({current:0}),reducers:{addIntroduction:{reducer:ue.addOne,prepare:e=>({payload:pe(e)})},addIntroductions:{reducer:ue.addMany,prepare:e=>({payload:(0,c.map)(e,pe)})},setIntroductions:{reducer:ue.setAll,prepare:e=>({payload:(0,c.map)(e,pe)})}}}),me=ye.getInitialState,ge=ue.getSelectors((e=>(0,c.get)(e,le,{}))),he={selectCurrentIntroductionIndex:e=>(0,c.get)(e,[le,"current"],0),selectIntroduction:ge.selectById,selectIntroductions:ge.selectAll};he.selectCurrentIntroduction=(0,l.createSelector)([he.selectCurrentIntroductionIndex,he.selectIntroductions],((e,t)=>t[e]));const we=ye.actions,ve=ye.reducer,xe="wpseoIntroductions";r()((()=>{const e=(0,c.get)(window,`${xe}.introductions`,[]);if((0,c.isEmpty)(e))return;const t={"ai-brand-insights-pre-launch":ae};if(-1!==location.href.indexOf("page=wpseo_dashboard#/first-time-configuration"))return window.YoastSEO._registerIntroductionComponent=t=>{(0,c.find)(e,{id:t})&&s()({path:`/yoast/v1/introductions/${t}/seen`,method:"POST",data:{is_seen:!1}})},Object.keys(t).forEach((e=>{window.YoastSEO._registerIntroductionComponent(e)})),void(0,a.doAction)("yoast.introductions.ready");((e={})=>{(0,n.register)((e=>(0,n.createReduxStore)(ie,{actions:{...we,...P,...L,...Y,...x},selectors:{...he,...k,...O,...G,...v},initialState:(0,c.merge)({},{[le]:me(),[I]:j(),[$]:N(),[W]:z(),[m]:w()},e),reducer:(0,n.combineReducers)({[le]:ve,[I]:_,[$]:R,[W]:J,[m]:b}),controls:{...F,...S}}))(e))})({[I]:(0,c.get)(window,`${xe}.linkParams`,{}),[$]:(0,c.get)(window,`${xe}.pluginUrl`,""),[W]:{value:"1"===(0,c.get)(window,`${xe}.wistiaEmbedPermission`,!1)}}),(0,n.dispatch)(ie).setIntroductions(e);const i={isRtl:Boolean((0,c.get)(window,`${xe}.isRtl`,!1))},r=document.createElement("div");r.id="wpseo-introductions",document.body.appendChild(r),(0,o.createRoot)(r).render((0,se.jsx)(d.Root,{context:i,children:(0,se.jsx)(de,{initialComponents:t,children:(0,se.jsx)(ce,{})})}))}))})();