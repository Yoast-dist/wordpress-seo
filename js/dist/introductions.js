(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var n in s)e.o(s,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:s[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.apiFetch;var s=e.n(t);const n=window.wp.data,i=window.wp.domReady;var r=e.n(i);const a=window.wp.hooks,o=window.wp.element,d=window.yoast.uiLibrary,c=window.lodash,l=window.yoast.reduxJsToolkit,u="adminUrl",p=(0,l.createSlice)({name:u,initialState:"",reducers:{setAdminUrl:(e,{payload:t})=>t}}),y=(p.getInitialState,{selectAdminUrl:e=>(0,c.get)(e,u,"")});y.selectAdminLink=(0,l.createSelector)([y.selectAdminUrl,(e,t)=>t],((e,t="")=>{try{return new URL(t,e).href}catch(t){return e}})),p.actions,p.reducer;const m="hasConsent",w=`${m}/storeConsent`,g=(0,l.createSlice)({name:m,initialState:{hasConsent:!1,endpoint:"yoast/v1/ai_generator/consent"},reducers:{giveAiGeneratorConsent:(e,{payload:t})=>{e.hasConsent=t},setAiGeneratorConsentEndpoint:(e,{payload:t})=>{e.endpoint=t}}}),h=g.getInitialState,x={selectHasAiGeneratorConsent:e=>(0,c.get)(e,[m,"hasConsent"],g.getInitialState().hasConsent),selectAiGeneratorConsentEndpoint:e=>(0,c.get)(e,[m,"endpoint"],g.getInitialState().endpoint)},v={...g.actions,storeAiGeneratorConsent:function*(e,t){try{yield{type:w,payload:{consent:e,endpoint:t}}}catch(e){return!1}return yield{type:`${m}/giveAiGeneratorConsent`,payload:e},!0}},S={[w]:async({payload:e})=>await s()({path:e.endpoint,method:"POST",data:{consent:e.consent},parse:!1})},b=g.reducer,f=window.wp.url,I="linkParams",C=(0,l.createSlice)({name:I,initialState:{},reducers:{setLinkParams:(e,{payload:t})=>t}}),j=C.getInitialState,k={selectLinkParam:(e,t,s={})=>(0,c.get)(e,`${I}.${t}`,s),selectLinkParams:e=>(0,c.get)(e,I,{})};k.selectLink=(0,l.createSelector)([k.selectLinkParams,(e,t)=>t,(e,t,s={})=>s],((e,t,s)=>(0,f.addQueryArgs)(t,{...e,...s})));const _=C.actions,E=C.reducer,P=(0,l.createSlice)({name:"notifications",initialState:{},reducers:{addNotification:{reducer:(e,{payload:t})=>{e[t.id]={id:t.id,variant:t.variant,size:t.size,title:t.title,description:t.description}},prepare:({id:e,variant:t="info",size:s="default",title:n,description:i})=>({payload:{id:e||(0,l.nanoid)(),variant:t,size:s,title:n||"",description:i}})},removeNotification:(e,{payload:t})=>(0,c.omit)(e,t)}}),$=(P.getInitialState,P.actions,P.reducer,"pluginUrl"),L=(0,l.createSlice)({name:$,initialState:"",reducers:{setPluginUrl:(e,{payload:t})=>t}}),A=L.getInitialState,N={selectPluginUrl:e=>(0,c.get)(e,$,"")};N.selectImageLink=(0,l.createSelector)([N.selectPluginUrl,(e,t,s="images")=>s,(e,t)=>t],((e,t,s)=>[(0,c.trimEnd)(e,"/"),(0,c.trim)(t,"/"),(0,c.trimStart)(s,"/")].join("/")));const R=L.actions,O=L.reducer,T="request",U="success",M="error",B="idle",W="wistiaEmbedPermission",q=(0,l.createSlice)({name:W,initialState:{value:!1,status:B,error:{}},reducers:{setWistiaEmbedPermissionValue:(e,{payload:t})=>{e.value=Boolean(t)}},extraReducers:e=>{e.addCase(`${W}/${T}`,(e=>{e.status="loading"})),e.addCase(`${W}/${U}`,((e,{payload:t})=>{e.status="success",e.value=Boolean(t&&t.value)})),e.addCase(`${W}/${M}`,((e,{payload:t})=>{e.status="error",e.value=Boolean(t&&t.value),e.error={code:(0,c.get)(t,"error.code",500),message:(0,c.get)(t,"error.message","Unknown")}}))}}),z=q.getInitialState,G={selectWistiaEmbedPermission:e=>(0,c.get)(e,W,{value:!1,status:B}),selectWistiaEmbedPermissionValue:e=>(0,c.get)(e,[W,"value"],!1),selectWistiaEmbedPermissionStatus:e=>(0,c.get)(e,[W,"status"],B),selectWistiaEmbedPermissionError:e=>(0,c.get)(e,[W,"error"],{})},Y={...q.actions,setWistiaEmbedPermission:function*(e){yield{type:`${W}/${T}`};try{return yield{type:W,payload:e},{type:`${W}/${U}`,payload:{value:e}}}catch(t){return{type:`${W}/${M}`,payload:{error:t,value:e}}}}},F={[W]:async({payload:e})=>s()({path:"/yoast/v1/wistia_embed_permission",method:"POST",data:{value:Boolean(e)}})},J=q.reducer;var H;const V=(0,l.createSlice)({name:"documentTitle",initialState:(0,c.defaultTo)(null===(H=document)||void 0===H?void 0:H.title,""),reducers:{setDocumentTitle:(e,{payload:t})=>t}}),D=(V.getInitialState,V.actions,V.reducer,window.wp.i18n),Q=window.yoast.propTypes;var X=e.n(Q);const K=window.React,Z=K.forwardRef((function(e,t){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"}))})),ee=window.ReactJSXRuntime,te=({thumbnail:e,buttonLink:t,buttonLabel:s=(0,D.__)("Join the waitlist","wordpress-seo"),productName:n=(0,D.sprintf)(/* translators: %1$s expands to Yoast AI brand insights. */
(0,D.__)("Introducing %1$s","wordpress-seo"),"Yoast AI brand insights"),description:i=(0,D.__)("Track visibility, control perception, and stay ahead - tools to manage your AI presence are coming soon!","wordpress-seo")})=>{const{onClose:r,initialFocus:a}=(0,d.useModalContext)();return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsxs)("div",{className:"yst-px-10 yst-pt-10 yst-introduction-gradient yst-text-center",children:[(0,ee.jsx)("img",{className:"yst-w-full yst-h-auto yst-rounded-md yst-drop-shadow-md",alt:(0,D.__)("Web chart showing aspects of brand visibility in AI responses","wordpress-seo"),loading:"lazy",decoding:"async",...e}),(0,ee.jsx)("div",{className:"yst-mt-6 yst-text-xs yst-font-medium yst-flex yst-flex-col yst-items-center",children:(0,ee.jsxs)("span",{className:"yst-introduction-modal-uppercase yst-flex yst-gap-2 yst-items-center",children:[(0,ee.jsx)("span",{className:"yst-ai-insights-icon"}),n]})})]}),(0,ee.jsxs)("div",{className:"yst-px-10 yst-pb-4 yst-flex yst-flex-col yst-items-center",children:[(0,ee.jsxs)("div",{className:"yst-mt-4 yst-mx-1.5 yst-text-center",children:[(0,ee.jsx)("h3",{className:"yst-text-slate-900 yst-text-lg yst-font-medium",children:(0,D.__)("How does your brand show up in AI responses?","wordpress-seo")}),(0,ee.jsx)("div",{className:"yst-mt-2 yst-text-slate-600 yst-text-sm",children:(0,ee.jsx)("p",{children:i})})]}),(0,ee.jsx)("div",{className:"yst-w-full yst-flex yst-mt-6",children:(0,ee.jsxs)(d.Button,{as:"a",className:"yst-grow yst-border-slate-200 yst-ai-insights-waitlist-button",size:"extra-large",variant:"upsell",href:t,target:"_blank",ref:a,children:[(0,ee.jsx)(Z,{className:"yst--ms-1 yst-me-2 yst-h-5 yst-w-5 yst-text-white"}),s,(0,ee.jsx)("span",{className:"yst-sr-only",children:/* translators: Hidden accessibility text. */
(0,D.__)("(Opens in a new browser tab)","wordpress-seo")})]})}),(0,ee.jsx)(d.Button,{className:"yst-mt-2",variant:"tertiary",onClick:r,children:(0,D.__)("Close","wordpress-seo")})]})]})};te.propTypes={buttonLink:X().string.isRequired,thumbnail:X().shape({src:X().string.isRequired,width:X().string,height:X().string}).isRequired,buttonLabel:X().string,productName:X().string,description:X().string,ctbId:X().string};const se="yoast-seo/introductions",ne=({children:e})=>{const[t,s]=(0,o.useState)(!0),n=(0,o.useRef)(null),i=(0,o.useCallback)((()=>s(!1)),[]);return(0,ee.jsx)(d.Modal,{className:"yst-introduction-modal yst-h-[calc(100vh - 1rem)] sm:yst-h-[calc(100vh - 2rem)] md:yst-h-[calc(100vh - 5rem)]) yst-overflow-y-auto",isOpen:t,onClose:i,initialFocus:n,children:(0,ee.jsx)(d.Modal.Panel,{className:"yst-max-w-lg yst-p-0 yst-rounded-3xl",children:e})})};ne.propTypes={children:X().node.isRequired};const ie=()=>{const e=(0,n.useSelect)((e=>e(se).selectImageLink("ai-brand-insights-pre-launch.png")),[]),t=(0,n.useSelect)((e=>e(se).selectLink("https://yoa.st/ai-brand-insights-introduction-pre-launch/")),[]),s=(0,o.useMemo)((()=>({src:e,width:"432",height:"243"})),[e]);return(0,ee.jsx)(ne,{children:(0,ee.jsx)(te,{buttonLink:t,thumbnail:s})})};window.YoastSEO=window.YoastSEO||{};const re=(0,o.createContext)({}),ae=({children:e,initialComponents:t})=>{const[s,i]=(0,o.useState)(t),r=(0,n.useSelect)((e=>e(se).selectIntroductions()),[]),d=(0,o.useCallback)(((e,t)=>{(0,c.find)(r,{id:e})&&i((s=>({...s,[e]:t})))}),[r,i]);return(0,o.useEffect)((()=>{window.YoastSEO._registerIntroductionComponent=d,(0,a.doAction)("yoast.introductions.ready")}),[d]),(0,ee.jsx)(re.Provider,{value:s,children:e})};ae.propTypes={children:X().node.isRequired,initialComponents:X().object.isRequired};const oe=()=>{const e=(0,n.useSelect)((e=>e(se).selectCurrentIntroduction()),[]),t=(0,o.useContext)(re),s=(0,o.useMemo)((()=>null==t?void 0:t[null==e?void 0:e.id]),[e,t]);return s?(0,ee.jsx)(s,{}):null},de="introductions",ce=(0,l.createEntityAdapter)({selectId:e=>e.id,sortComparer:(e,t)=>e.priority===t.priority?0:e.priority<t.priority?-1:1}),le=e=>({id:e.id||(0,l.nanoid)(),priority:e.priority||0}),ue=(0,l.createSlice)({name:de,initialState:ce.getInitialState({current:0}),reducers:{addIntroduction:{reducer:ce.addOne,prepare:e=>({payload:le(e)})},addIntroductions:{reducer:ce.addMany,prepare:e=>({payload:(0,c.map)(e,le)})},setIntroductions:{reducer:ce.setAll,prepare:e=>({payload:(0,c.map)(e,le)})}}}),pe=ue.getInitialState,ye=ce.getSelectors((e=>(0,c.get)(e,de,{}))),me={selectCurrentIntroductionIndex:e=>(0,c.get)(e,[de,"current"],0),selectIntroduction:ye.selectById,selectIntroductions:ye.selectAll};me.selectCurrentIntroduction=(0,l.createSelector)([me.selectCurrentIntroductionIndex,me.selectIntroductions],((e,t)=>t[e]));const we=ue.actions,ge=ue.reducer,he="wpseoIntroductions";r()((()=>{const e=(0,c.get)(window,`${he}.introductions`,[]);if((0,c.isEmpty)(e))return;const t={"ai-brand-insights-pre-launch":ie};if(-1!==location.href.indexOf("page=wpseo_dashboard#/first-time-configuration"))return window.YoastSEO._registerIntroductionComponent=t=>{(0,c.find)(e,{id:t})&&s()({path:`/yoast/v1/introductions/${t}/seen`,method:"POST",data:{is_seen:!1}})},Object.keys(t).forEach((e=>{window.YoastSEO._registerIntroductionComponent(e)})),void(0,a.doAction)("yoast.introductions.ready");((e={})=>{(0,n.register)((e=>(0,n.createReduxStore)(se,{actions:{...we,..._,...R,...Y,...v},selectors:{...me,...k,...N,...G,...x},initialState:(0,c.merge)({},{[de]:pe(),[I]:j(),[$]:A(),[W]:z(),[m]:h()},e),reducer:(0,n.combineReducers)({[de]:ge,[I]:E,[$]:O,[W]:J,[m]:b}),controls:{...F,...S}}))(e))})({[I]:(0,c.get)(window,`${he}.linkParams`,{}),[$]:(0,c.get)(window,`${he}.pluginUrl`,""),[W]:{value:"1"===(0,c.get)(window,`${he}.wistiaEmbedPermission`,!1)}}),(0,n.dispatch)(se).setIntroductions(e);const i={isRtl:Boolean((0,c.get)(window,`${he}.isRtl`,!1))},r=document.createElement("div");r.id="wpseo-introductions",document.body.appendChild(r),(0,o.createRoot)(r).render((0,ee.jsx)(d.Root,{context:i,children:(0,ee.jsx)(ae,{initialComponents:t,children:(0,ee.jsx)(oe,{})})}))}))})();