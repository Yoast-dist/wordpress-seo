(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var r in s)e.o(s,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:s[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,s=window.wp.data,r=window.wp.domReady;var a=e.n(r);const o=window.wp.element,n=window.yoast.uiLibrary,i=window.lodash,l=window.yoast.reduxJsToolkit,c="adminUrl",d=(0,l.createSlice)({name:c,initialState:"",reducers:{setAdminUrl:(e,{payload:t})=>t}}),u=(d.getInitialState,{selectAdminUrl:e=>(0,i.get)(e,c,"")});u.selectAdminLink=(0,l.createSelector)([u.selectAdminUrl,(e,t)=>t],((e,t="")=>{try{return new URL(t,e).href}catch(t){return e}})),d.actions,d.reducer;const m=window.wp.url,p="linkParams",y=(0,l.createSlice)({name:p,initialState:{},reducers:{setLinkParams:(e,{payload:t})=>t}}),w=y.getInitialState,g={selectLinkParam:(e,t,s={})=>(0,i.get)(e,`${p}.${t}`,s),selectLinkParams:e=>(0,i.get)(e,p,{})};g.selectLink=(0,l.createSelector)([g.selectLinkParams,(e,t)=>t,(e,t,s={})=>s],((e,t,s)=>(0,m.addQueryArgs)(t,{...e,...s})));const f=y.actions,E=y.reducer,v=(0,l.createSlice)({name:"notifications",initialState:{},reducers:{addNotification:{reducer:(e,{payload:t})=>{e[t.id]={id:t.id,variant:t.variant,size:t.size,title:t.title,description:t.description}},prepare:({id:e,variant:t="info",size:s="default",title:r,description:a})=>({payload:{id:e||(0,l.nanoid)(),variant:t,size:s,title:r||"",description:a}})},removeNotification:(e,{payload:t})=>(0,i.omit)(e,t)}}),h=(v.getInitialState,v.actions,v.reducer,"pluginUrl"),b=(0,l.createSlice)({name:h,initialState:"",reducers:{setPluginUrl:(e,{payload:t})=>t}}),S=b.getInitialState,x={selectPluginUrl:e=>(0,i.get)(e,h,"")};x.selectImageLink=(0,l.createSelector)([x.selectPluginUrl,(e,t,s="images")=>s,(e,t)=>t],((e,t,s)=>[(0,i.trimEnd)(e,"/"),(0,i.trim)(t,"/"),(0,i.trimStart)(s,"/")].join("/")));const P=b.actions,k=b.reducer,I=window.wp.apiFetch;var C=e.n(I);const _="request",O="success",N="error",$="idle",L="wistiaEmbedPermission",R=(0,l.createSlice)({name:L,initialState:{value:!1,status:$,error:{}},reducers:{setWistiaEmbedPermissionValue:(e,{payload:t})=>{e.value=Boolean(t)}},extraReducers:e=>{e.addCase(`${L}/${_}`,(e=>{e.status="loading"})),e.addCase(`${L}/${O}`,((e,{payload:t})=>{e.status="success",e.value=Boolean(t&&t.value)})),e.addCase(`${L}/${N}`,((e,{payload:t})=>{e.status="error",e.value=Boolean(t&&t.value),e.error={code:(0,i.get)(t,"error.code",500),message:(0,i.get)(t,"error.message","Unknown")}}))}}),A=R.getInitialState,U={selectWistiaEmbedPermission:e=>(0,i.get)(e,L,{value:!1,status:$}),selectWistiaEmbedPermissionValue:e=>(0,i.get)(e,[L,"value"],!1),selectWistiaEmbedPermissionStatus:e=>(0,i.get)(e,[L,"status"],$),selectWistiaEmbedPermissionError:e=>(0,i.get)(e,[L,"error"],{})},B={...R.actions,setWistiaEmbedPermission:function*(e){yield{type:`${L}/${_}`};try{return yield{type:L,payload:e},{type:`${L}/${O}`,payload:{value:e}}}catch(t){return{type:`${L}/${N}`,payload:{error:t,value:e}}}}},Y={[L]:async({payload:e})=>C()({path:"/yoast/v1/wistia_embed_permission",method:"POST",data:{value:Boolean(e)}})},M=R.reducer,W=t.forwardRef((function(e,s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"}))})),z=window.wp.i18n,q=window.yoast.propTypes;var T=e.n(q);const j=({thumbnail:e,buttonLink:s,buttonLabel:r=(0,z.sprintf)(/* translators: %1$s expands to Yoast SEO Premium. */
(0,z.__)("Unlock with %1$s","wordpress-seo"),"Yoast SEO Premium"),productName:a="Yoast SEO Premium",freeCopy:o=(0,z.__)("Optimize as you draft for SEO, inclusivity, and readability. The Yoast SEO Google Docs add-on lets you export content ready for WordPress, no reformatting required. Purchase separately or with Yoast SEO Premium.","wordpress-seo"),premiumCopy:i=(0,z.__)("Access all your favorite Yoast content analysis tools for SEO, readability, and inclusivity, right inside Google Docs. You can draft, collaborate, edit and export content perfectly formatted for WordPress.","wordpress-seo"),isPremium:l=!1,ctbId:c="f6a84663-465f-4cb5-8ba5-f7a6d72224b2"})=>{const{onClose:d,initialFocus:u}=(0,n.useModalContext)();return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"yst-px-10 yst-pt-10 yst-introduction-gradient yst-text-center"},(0,t.createElement)("img",{className:"yst-w-full yst-h-auto yst-rounded-md",alt:"Thumbnail for Yoast SEO Google Docs Add-On",loading:"lazy",decoding:"async",...e}),(0,t.createElement)("div",{className:"yst-mt-6 yst-text-xs yst-font-medium yst-flex yst-flex-col yst-items-center"},(0,t.createElement)("span",{className:"yst-introduction-modal-uppercase yst-flex yst-gap-2 yst-items-center"},(0,t.createElement)("span",{className:"yst-logo-icon"}),a))),(0,t.createElement)("div",{className:"yst-px-10 yst-pb-4 yst-flex yst-flex-col yst-items-center"},(0,t.createElement)("div",{className:"yst-mt-4 yst-mx-1.5 yst-text-center"},(0,t.createElement)("h3",{className:"yst-text-slate-900 yst-text-lg yst-font-medium"},(0,z.__)("Get one seat for the new Google Docs Add-On","wordpress-seo")),(0,t.createElement)("div",{className:"yst-mt-2 yst-text-slate-600 yst-text-sm"},l?(0,t.createElement)("p",null,i):(0,t.createElement)("p",null,o))),(0,t.createElement)("div",{className:"yst-w-full yst-flex yst-mt-6"},l?(0,t.createElement)(n.Button,{as:"a",className:"yst-grow",size:"extra-large",variant:"primary",href:s,target:"_blank",ref:u},r,(0,t.createElement)("span",{className:"yst-sr-only"},/* translators: Hidden accessibility text. */
(0,z.__)("(Opens in a new browser tab)","wordpress-seo"))):(0,t.createElement)(n.Button,{as:"a",className:"yst-grow",size:"extra-large",variant:"upsell",href:s,target:"_blank",ref:u,"data-action":"load-nfd-ctb","data-ctb-id":c},(0,t.createElement)(W,{className:"yst--ms-1 yst-me-2 yst-h-5 yst-w-5"}),r,(0,t.createElement)("span",{className:"yst-sr-only"},/* translators: Hidden accessibility text. */
(0,z.__)("(Opens in a new browser tab)","wordpress-seo")))),(0,t.createElement)(n.Button,{as:"a",className:"yst-mt-4",variant:"tertiary",onClick:d},(0,z.__)("Close","wordpress-seo"))))};j.propTypes={buttonLink:T().string.isRequired,thumbnail:T().shape({src:T().string.isRequired,width:T().string,height:T().string}).isRequired,buttonLabel:T().string,productName:T().string,isPremium:T().bool,ctbId:T().string};const G="yoast-seo/introductions",D=({children:e})=>{const[s,r]=(0,o.useState)(!0),a=(0,o.useRef)(null),i=(0,o.useCallback)((()=>r(!1)),[]);return(0,t.createElement)(n.Modal,{className:"yst-introduction-modal yst-h-[calc(100vh - 1rem)] sm:yst-h-[calc(100vh - 2rem)] md:yst-h-[calc(100vh - 5rem)]) yst-overflow-y-auto",isOpen:s,onClose:i,initialFocus:a},(0,t.createElement)(n.Modal.Panel,{className:"yst-max-w-lg yst-p-0 yst-rounded-3xl"},e))};D.propTypes={children:T().node.isRequired};const F=()=>{const e=(0,s.useSelect)((e=>e(G).selectImageLink("google-docs-addon-thumbnail.png")),[]),r=(0,o.useMemo)((()=>Boolean((0,i.get)(window,"wpseoIntroductions.isPremium",!1))),[]),a=(0,s.useSelect)((e=>e(G).selectLink("https://yoa.st/google-docs-add-on-introduction-upsell/")),[]),n=(0,s.useSelect)((e=>e(G).selectLink("https://yoa.st/google-docs-add-on-introduction-get-started/")),[]),l=(0,o.useMemo)((()=>({src:e,width:"432",height:"243"})),[e]),c=(0,o.useMemo)((()=>r?(0,z.__)("Activate your free seat","wordpress-seo"):(0,z.sprintf)(/* translators: %1$s expands to Yoast SEO Premium. */
(0,z.__)("Unlock with %1$s","wordpress-seo"),"Yoast SEO Premium")),[r]);return(0,t.createElement)(D,null,(0,t.createElement)(j,{buttonLink:r?n:a,thumbnail:l,buttonLabel:c,isPremium:r}))},V=window.wp.hooks;window.YoastSEO=window.YoastSEO||{};const H=(0,o.createContext)({}),J=({children:e,initialComponents:r})=>{const[a,n]=(0,o.useState)(r),l=(0,s.useSelect)((e=>e(G).selectIntroductions()),[]),c=(0,o.useCallback)(((e,t)=>{(0,i.find)(l,{id:e})?n((s=>({...s,[e]:t}))):console.error("Warning: Introductions received a registration for an unknown key:",e)}),[l,n]);return(0,o.useEffect)((()=>{window.YoastSEO._registerIntroductionComponent=c,(0,V.doAction)("yoast.introductions.ready")}),[c]),(0,t.createElement)(H.Provider,{value:a},e)};J.propTypes={children:T().node.isRequired,initialComponents:T().object.isRequired};const Q=()=>{const e=(0,s.useSelect)((e=>e(G).selectCurrentIntroduction()),[]),r=(0,o.useContext)(H),a=(0,o.useMemo)((()=>null==r?void 0:r[null==e?void 0:e.id]),[e,r]);return a?(0,t.createElement)(a,null):null},K="introductions",X=(0,l.createEntityAdapter)({selectId:e=>e.id,sortComparer:(e,t)=>e.priority===t.priority?0:e.priority<t.priority?-1:1}),Z=e=>({id:e.id||(0,l.nanoid)(),priority:e.priority||0}),ee=(0,l.createSlice)({name:K,initialState:X.getInitialState({current:0}),reducers:{addIntroduction:{reducer:X.addOne,prepare:e=>({payload:Z(e)})},addIntroductions:{reducer:X.addMany,prepare:e=>({payload:(0,i.map)(e,Z)})},setIntroductions:{reducer:X.setAll,prepare:e=>({payload:(0,i.map)(e,Z)})}}}),te=ee.getInitialState,se=X.getSelectors((e=>(0,i.get)(e,K,{}))),re={selectCurrentIntroductionIndex:e=>(0,i.get)(e,[K,"current"],0),selectIntroduction:se.selectById,selectIntroductions:se.selectAll};re.selectCurrentIntroduction=(0,l.createSelector)([re.selectCurrentIntroductionIndex,re.selectIntroductions],((e,t)=>t[e]));const ae=ee.actions,oe=ee.reducer,ne="wpseoIntroductions";a()((()=>{const e=(0,i.get)(window,`${ne}.introductions`,[]);if((0,i.isEmpty)(e))return;((e={})=>{(0,s.register)((e=>(0,s.createReduxStore)(G,{actions:{...ae,...f,...P,...B},selectors:{...re,...g,...x,...U},initialState:(0,i.merge)({},{[K]:te(),[p]:w(),[h]:S(),[L]:A()},e),reducer:(0,s.combineReducers)({[K]:oe,[p]:E,[h]:k,[L]:M}),controls:{...Y}}))(e))})({[p]:(0,i.get)(window,`${ne}.linkParams`,{}),[h]:(0,i.get)(window,`${ne}.pluginUrl`,""),[L]:{value:"1"===(0,i.get)(window,`${ne}.wistiaEmbedPermission`,!1)}}),(0,s.dispatch)(G).setIntroductions(e);const r={isRtl:Boolean((0,i.get)(window,`${ne}.isRtl`,!1))},a={"google-docs-addon-upsell":F},l=document.createElement("div");l.id="wpseo-introductions",document.body.appendChild(l),(0,o.render)((0,t.createElement)(n.Root,{context:r},(0,t.createElement)(J,{initialComponents:a},(0,t.createElement)(Q,null))),l)}))})();