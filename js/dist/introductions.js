(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,n=window.wp.data,a=window.wp.domReady;var s=e.n(a);const r=window.wp.element,o=window.yoast.uiLibrary,i=window.lodash,l=window.yoast.reduxJsToolkit,c="adminUrl",d=(0,l.createSlice)({name:c,initialState:"",reducers:{setAdminUrl:(e,{payload:t})=>t}}),u=(d.getInitialState,{selectAdminUrl:e=>(0,i.get)(e,c,"")});u.selectAdminLink=(0,l.createSelector)([u.selectAdminUrl,(e,t)=>t],((e,t="")=>{try{return new URL(t,e).href}catch(t){return e}})),d.actions,d.reducer;const m=window.wp.apiFetch;var p=e.n(m);const y="hasConsent",g=`${y}/storeConsent`,w=(0,l.createSlice)({name:y,initialState:{hasConsent:!1,endpoint:"yoast/v1/ai_generator/consent"},reducers:{giveAiGeneratorConsent:(e,{payload:t})=>{e.hasConsent=t},setAiGeneratorConsentEndpoint:(e,{payload:t})=>{e.endpoint=t}}}),h=w.getInitialState,f={selectHasAiGeneratorConsent:e=>(0,i.get)(e,[y,"hasConsent"],w.getInitialState().hasConsent),selectAiGeneratorConsentEndpoint:e=>(0,i.get)(e,[y,"endpoint"],w.getInitialState().endpoint)},E={...w.actions,storeAiGeneratorConsent:function*(e,t){try{yield{type:g,payload:{consent:e,endpoint:t}}}catch(e){return!1}return yield{type:`${y}/giveAiGeneratorConsent`,payload:e},!0}},v={[g]:async({payload:e})=>await p()({path:e.endpoint,method:"POST",data:{consent:e.consent},parse:!1})},S=w.reducer,b=window.wp.url,C="linkParams",x=(0,l.createSlice)({name:C,initialState:{},reducers:{setLinkParams:(e,{payload:t})=>t}}),I=x.getInitialState,P={selectLinkParam:(e,t,n={})=>(0,i.get)(e,`${C}.${t}`,n),selectLinkParams:e=>(0,i.get)(e,C,{})};P.selectLink=(0,l.createSelector)([P.selectLinkParams,(e,t)=>t,(e,t,n={})=>n],((e,t,n)=>(0,b.addQueryArgs)(t,{...e,...n})));const k=x.actions,_=x.reducer,O=(0,l.createSlice)({name:"notifications",initialState:{},reducers:{addNotification:{reducer:(e,{payload:t})=>{e[t.id]={id:t.id,variant:t.variant,size:t.size,title:t.title,description:t.description}},prepare:({id:e,variant:t="info",size:n="default",title:a,description:s})=>({payload:{id:e||(0,l.nanoid)(),variant:t,size:n,title:a||"",description:s}})},removeNotification:(e,{payload:t})=>(0,i.omit)(e,t)}}),$=(O.getInitialState,O.actions,O.reducer,"pluginUrl"),N=(0,l.createSlice)({name:$,initialState:"",reducers:{setPluginUrl:(e,{payload:t})=>t}}),L=N.getInitialState,A={selectPluginUrl:e=>(0,i.get)(e,$,"")};A.selectImageLink=(0,l.createSelector)([A.selectPluginUrl,(e,t,n="images")=>n,(e,t)=>t],((e,t,n)=>[(0,i.trimEnd)(e,"/"),(0,i.trim)(t,"/"),(0,i.trimStart)(n,"/")].join("/")));const R=N.actions,U=N.reducer,B="request",G="success",Y="error",M="idle",W="wistiaEmbedPermission",z=(0,l.createSlice)({name:W,initialState:{value:!1,status:M,error:{}},reducers:{setWistiaEmbedPermissionValue:(e,{payload:t})=>{e.value=Boolean(t)}},extraReducers:e=>{e.addCase(`${W}/${B}`,(e=>{e.status="loading"})),e.addCase(`${W}/${G}`,((e,{payload:t})=>{e.status="success",e.value=Boolean(t&&t.value)})),e.addCase(`${W}/${Y}`,((e,{payload:t})=>{e.status="error",e.value=Boolean(t&&t.value),e.error={code:(0,i.get)(t,"error.code",500),message:(0,i.get)(t,"error.message","Unknown")}}))}}),T=z.getInitialState,q={selectWistiaEmbedPermission:e=>(0,i.get)(e,W,{value:!1,status:M}),selectWistiaEmbedPermissionValue:e=>(0,i.get)(e,[W,"value"],!1),selectWistiaEmbedPermissionStatus:e=>(0,i.get)(e,[W,"status"],M),selectWistiaEmbedPermissionError:e=>(0,i.get)(e,[W,"error"],{})},j={...z.actions,setWistiaEmbedPermission:function*(e){yield{type:`${W}/${B}`};try{return yield{type:W,payload:e},{type:`${W}/${G}`,payload:{value:e}}}catch(t){return{type:`${W}/${Y}`,payload:{error:t,value:e}}}}},D={[W]:async({payload:e})=>p()({path:"/yoast/v1/wistia_embed_permission",method:"POST",data:{value:Boolean(e)}})},F=z.reducer,V=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"}))})),H=window.wp.i18n,J=window.yoast.propTypes;var Q=e.n(J);const K=({thumbnail:e,buttonLink:n,buttonLabel:a=(0,H.sprintf)(/* translators: %1$s expands to Yoast SEO Premium. */
(0,H.__)("Unlock with %1$s","wordpress-seo"),"Yoast SEO Premium"),productName:s="Yoast SEO Premium",freeCopy:r=(0,H.__)("Optimize as you draft for SEO, inclusivity, and readability. The Yoast SEO Google Docs add-on lets you export content ready for WordPress, no reformatting required. Purchase separately or with Yoast SEO Premium.","wordpress-seo"),premiumCopy:i=(0,H.__)("Access all your favorite Yoast content analysis tools for SEO, readability, and inclusivity, right inside Google Docs. You can draft, collaborate, edit and export content perfectly formatted for WordPress.","wordpress-seo"),isPremium:l=!1,ctbId:c="f6a84663-465f-4cb5-8ba5-f7a6d72224b2"})=>{const{onClose:d,initialFocus:u}=(0,o.useModalContext)();return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"yst-px-10 yst-pt-10 yst-introduction-gradient yst-text-center"},(0,t.createElement)("img",{className:"yst-w-full yst-h-auto yst-rounded-md",alt:"Thumbnail for Yoast SEO Google Docs Add-On",loading:"lazy",decoding:"async",...e}),(0,t.createElement)("div",{className:"yst-mt-6 yst-text-xs yst-font-medium yst-flex yst-flex-col yst-items-center"},(0,t.createElement)("span",{className:"yst-introduction-modal-uppercase yst-flex yst-gap-2 yst-items-center"},(0,t.createElement)("span",{className:"yst-logo-icon"}),s))),(0,t.createElement)("div",{className:"yst-px-10 yst-pb-4 yst-flex yst-flex-col yst-items-center"},(0,t.createElement)("div",{className:"yst-mt-4 yst-mx-1.5 yst-text-center"},(0,t.createElement)("h3",{className:"yst-text-slate-900 yst-text-lg yst-font-medium"},(0,H.__)("Get one seat for the new Google Docs Add-On","wordpress-seo")),(0,t.createElement)("div",{className:"yst-mt-2 yst-text-slate-600 yst-text-sm"},l?(0,t.createElement)("p",null,i):(0,t.createElement)("p",null,r))),(0,t.createElement)("div",{className:"yst-w-full yst-flex yst-mt-6"},l?(0,t.createElement)(o.Button,{as:"a",className:"yst-grow",size:"extra-large",variant:"primary",href:n,target:"_blank",ref:u},a,(0,t.createElement)("span",{className:"yst-sr-only"},/* translators: Hidden accessibility text. */
(0,H.__)("(Opens in a new browser tab)","wordpress-seo"))):(0,t.createElement)(o.Button,{as:"a",className:"yst-grow",size:"extra-large",variant:"upsell",href:n,target:"_blank",ref:u,"data-action":"load-nfd-ctb","data-ctb-id":c},(0,t.createElement)(V,{className:"yst--ms-1 yst-me-2 yst-h-5 yst-w-5"}),a,(0,t.createElement)("span",{className:"yst-sr-only"},/* translators: Hidden accessibility text. */
(0,H.__)("(Opens in a new browser tab)","wordpress-seo")))),(0,t.createElement)(o.Button,{as:"a",className:"yst-mt-4",variant:"tertiary",onClick:d},(0,H.__)("Close","wordpress-seo"))))};K.propTypes={buttonLink:Q().string.isRequired,thumbnail:Q().shape({src:Q().string.isRequired,width:Q().string,height:Q().string}).isRequired,buttonLabel:Q().string,productName:Q().string,isPremium:Q().bool,ctbId:Q().string};const X="yoast-seo/introductions",Z=({children:e})=>{const[n,a]=(0,r.useState)(!0),s=(0,r.useRef)(null),i=(0,r.useCallback)((()=>a(!1)),[]);return(0,t.createElement)(o.Modal,{className:"yst-introduction-modal yst-h-[calc(100vh - 1rem)] sm:yst-h-[calc(100vh - 2rem)] md:yst-h-[calc(100vh - 5rem)]) yst-overflow-y-auto",isOpen:n,onClose:i,initialFocus:s},(0,t.createElement)(o.Modal.Panel,{className:"yst-max-w-lg yst-p-0 yst-rounded-3xl"},e))};Z.propTypes={children:Q().node.isRequired};const ee=()=>{const e=(0,n.useSelect)((e=>e(X).selectImageLink("google-docs-addon-thumbnail.png")),[]),a=(0,r.useMemo)((()=>Boolean((0,i.get)(window,"wpseoIntroductions.isPremium",!1))),[]),s=(0,n.useSelect)((e=>e(X).selectLink("https://yoa.st/google-docs-add-on-introduction-upsell/")),[]),o=(0,n.useSelect)((e=>e(X).selectLink("https://yoa.st/google-docs-add-on-introduction-get-started/")),[]),l=(0,r.useMemo)((()=>({src:e,width:"432",height:"243"})),[e]),c=(0,r.useMemo)((()=>a?(0,H.__)("Activate your free seat","wordpress-seo"):(0,H.sprintf)(/* translators: %1$s expands to Yoast SEO Premium. */
(0,H.__)("Unlock with %1$s","wordpress-seo"),"Yoast SEO Premium")),[a]);return(0,t.createElement)(Z,null,(0,t.createElement)(K,{buttonLink:a?o:s,thumbnail:l,buttonLabel:c,isPremium:a}))},te=window.wp.hooks;window.YoastSEO=window.YoastSEO||{};const ne=(0,r.createContext)({}),ae=({children:e,initialComponents:a})=>{const[s,o]=(0,r.useState)(a),l=(0,n.useSelect)((e=>e(X).selectIntroductions()),[]),c=(0,r.useCallback)(((e,t)=>{(0,i.find)(l,{id:e})?o((n=>({...n,[e]:t}))):console.error("Warning: Introductions received a registration for an unknown key:",e)}),[l,o]);return(0,r.useEffect)((()=>{window.YoastSEO._registerIntroductionComponent=c,(0,te.doAction)("yoast.introductions.ready")}),[c]),(0,t.createElement)(ne.Provider,{value:s},e)};ae.propTypes={children:Q().node.isRequired,initialComponents:Q().object.isRequired};const se=()=>{const e=(0,n.useSelect)((e=>e(X).selectCurrentIntroduction()),[]),a=(0,r.useContext)(ne),s=(0,r.useMemo)((()=>null==a?void 0:a[null==e?void 0:e.id]),[e,a]);return s?(0,t.createElement)(s,null):null},re="introductions",oe=(0,l.createEntityAdapter)({selectId:e=>e.id,sortComparer:(e,t)=>e.priority===t.priority?0:e.priority<t.priority?-1:1}),ie=e=>({id:e.id||(0,l.nanoid)(),priority:e.priority||0}),le=(0,l.createSlice)({name:re,initialState:oe.getInitialState({current:0}),reducers:{addIntroduction:{reducer:oe.addOne,prepare:e=>({payload:ie(e)})},addIntroductions:{reducer:oe.addMany,prepare:e=>({payload:(0,i.map)(e,ie)})},setIntroductions:{reducer:oe.setAll,prepare:e=>({payload:(0,i.map)(e,ie)})}}}),ce=le.getInitialState,de=oe.getSelectors((e=>(0,i.get)(e,re,{}))),ue={selectCurrentIntroductionIndex:e=>(0,i.get)(e,[re,"current"],0),selectIntroduction:de.selectById,selectIntroductions:de.selectAll};ue.selectCurrentIntroduction=(0,l.createSelector)([ue.selectCurrentIntroductionIndex,ue.selectIntroductions],((e,t)=>t[e]));const me=le.actions,pe=le.reducer,ye="wpseoIntroductions";s()((()=>{const e=(0,i.get)(window,`${ye}.introductions`,[]);if((0,i.isEmpty)(e))return;((e={})=>{(0,n.register)((e=>(0,n.createReduxStore)(X,{actions:{...me,...k,...R,...j,...E},selectors:{...ue,...P,...A,...q,...f},initialState:(0,i.merge)({},{[re]:ce(),[C]:I(),[$]:L(),[W]:T(),[y]:h()},e),reducer:(0,n.combineReducers)({[re]:pe,[C]:_,[$]:U,[W]:F,[y]:S}),controls:{...D,...v}}))(e))})({[C]:(0,i.get)(window,`${ye}.linkParams`,{}),[$]:(0,i.get)(window,`${ye}.pluginUrl`,""),[W]:{value:"1"===(0,i.get)(window,`${ye}.wistiaEmbedPermission`,!1)}}),(0,n.dispatch)(X).setIntroductions(e);const a={isRtl:Boolean((0,i.get)(window,`${ye}.isRtl`,!1))},s={"google-docs-addon-upsell":ee},l=document.createElement("div");l.id="wpseo-introductions",document.body.appendChild(l),(0,r.render)((0,t.createElement)(o.Root,{context:a},(0,t.createElement)(ae,{initialComponents:s},(0,t.createElement)(se,null))),l)}))})();